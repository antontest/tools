cscope 15 $HOME/tools/include -q 0000000514 0000030541
	@cfg.h

1 #i‚de‡
__CFG_H__


2 
	#__CFG_H__


	)

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<f˙é.h
>

9 
	~<sys/ty≥s.h
>

10 
	~<sys/°©.h
>

11 
	~<sig«l.h
>

12 
	~<±hªad.h
>

13 
	~<£m≠h‹e.h
>

14 
	~<°dboﬁ.h
>

15 
	~<sys/sysöfo.h
>

16 
	~<sys/î∫o.h
>

17 
	~<sys/waô.h
>

18 
	~<sys/£À˘.h
>

19 
	~<gë›t.h
>

20 
	~<time.h
>

27 
l_åim
(*
s
);

34 
r_åim
(*
s
);

42 
mid_åim
(*
s
);

49 
a_åim
(*
s
);

61 
cfg_löe_•lô
(*
löe
, c⁄° *
•lô
, **
«me
, **
vÆue
);

73 
cfg_vÆue_gaö
(c⁄° *
key_«me
, c⁄° *
•lô
, 
vÆue
[], c⁄° *
∑th
) ;

85 
cfg_vÆue_£t
(c⁄° *
key_«me
, c⁄° *
•lô
, c⁄° *
vÆue
, c⁄° *
∑th
);

97 
öi_vÆue_gaö
(c⁄° *
≠p_«me
, c⁄° *
key_«me
, 
vÆue
[], c⁄° *
∑th
);

109 
öi_vÆue_£t
(c⁄° *
≠p_«me
, c⁄° *
key_«me
, c⁄° *
vÆue
, c⁄° *
∑th
);

	@dir.h

1 #i‚de‡
__DIR_H__


2 
	#_DIR_H__


	)

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<f˙é.h
>

9 
	~<sys/ty≥s.h
>

10 
	~<sys/°©.h
>

11 
	~<sig«l.h
>

12 
	~<£m≠h‹e.h
>

13 
	~<°dboﬁ.h
>

14 
	~<sys/sysöfo.h
>

15 
	~<sys/î∫o.h
>

16 
	~<sys/waô.h
>

17 
	~<sys/£À˘.h
>

18 
	~<gë›t.h
>

19 
	~<time.h
>

20 
	~<dúít.h
>

22 
	efûe_ty≥
 {

23 
	mF_UNKNOWN
 = -1,

24 
	mF_REG
 = 0 ,

25 
	mF_DIR
 ,

26 
	mF_CHR
 ,

27 
	mF_BLK
 ,

28 
	mF_FIFO
 ,

29 
	mF_LNK
 ,

30 
	mF_SOCK


31 } 
	tfûe_ty≥
;

40 
fûe_ty≥
 
gë_fûe_ty≥
(c⁄° *
∑th«me
);

49 
gë_dú_size
(c⁄° *
∑th«me
);

58 
gë_fûe_size
(c⁄° *
∑th«me
);

67 
fûe_is_exi°
(c⁄° *
∑th«me
);

74 
¥öt_dú
(c⁄° *
∑th«me
);

84 
make_dú
(*
∑th«me
, 
mode_t
 
mode
);

93 
ªmove_dú
(c⁄° *
∑th«me
);

102 
ªmove_fûe
(c⁄° *
∑th«me
);

112 
dëe˘_≥rmissi⁄
(c⁄° *
∑th
, c⁄° *
≥rmissi⁄
);

123 *
ba£«me
(*
∑th
, *
«me
, 
size
);

134 *
dú«me
(*
∑th
, *
«me
, 
size
);

	@libsc_timer.h

1 #i‚de‡
__LIBSC_TIMER_H__


2 
	#__LIBSC_TIMER_H__


	)

3 
	~<°dio.h
>

4 
	~<°dlib.h
>

5 
	~<°rög.h
>

6 
	~<uni°d.h
>

7 
	~<f˙é.h
>

8 
	~<sys/ty≥s.h
>

9 
	~<sys/°©.h
>

10 
	~<sig«l.h
>

11 
	~<±hªad.h
>

12 
	~<£m≠h‹e.h
>

13 
	~<°dboﬁ.h
>

14 
	~<sys/sysöfo.h
>

15 
	~<sys/î∫o.h
>

16 
	~<sys/waô.h
>

17 
	~<sys/£À˘.h
>

18 
	~<gë›t.h
>

19 
	~<time.h
>

21 
	#TIMER_ACCURACY
 100

	)

26 
	slibsc_timî
 {

31 
	mi
;

32 
	mc
;

33 *
	mp
;

39 
libsc_timî_im∂
 *
	mim∂
;

47 (*
	ttimî_cb
)(
	tlibsc_timî
 *
	ttm
);

49 
	slibsc_timî_im∂
 {

50 
a˘ive
;

51 
ª≥©
;

52 
dñëe
;

53 
time_r
;

54 
time_b
;

55 
timî_cb
 
cb
;

56 
±hªad_t
 
thªad
;

67 
libsc_timî
 * 
	`libsc_timî_¸óã
(
tm_ms
, 
timî_cb
 
cb
, 
boﬁ
 
ª≥©
);

74 
	`libsc_timî_°¨t
(
libsc_timî
 *
timî
);

81 
	`libsc_timî_°›
(
libsc_timî
 *
timî
);

88 
	`libsc_timî_dñëe
(
libsc_timî
 *
timî
);

95 
	`libsc_timî_ª£t
(
libsc_timî
 *
timî
);

	@macro.h

5 #i‚de‡
ma¸o_to_°r


6 
	#ma¸o_to_°r
(
x
Ë#x

	)

9 #i‚de‡
ma¸o_ˇt


10 
	#ma¸o_ˇt
(
a
, 
b
Ëa##
	)
b

13 #i‚de‡
func_«me


14 
	#func_«me
 
__func__


	)

17 #i‚de‡
löe_num


18 
	#löe_num
 
__LINE__


	)

21 #i‚de‡
debug_îr‹


22 
	#debug_îr‹
(...) \

24 
	`Ârötf
(
°dîr
, "\033[1;35m[ Function %s ] [Üine %d ] \033[0m", \

25 
func_«me
, 
löe_num
); \

26 
	`Ârötf
(
°dîr
, ##
__VA_ARGS__
); \

27 
	`Ârötf
(
°dîr
, "\n"); \

28 } 0);

	)

31 #i‚de‡
debug_öfo


32 
	#debug_öfo
(...) \

34 
	`Ârötf
(
°dout
, "\033[1;35m"); \

35 
	`Ârötf
(
°dout
, ##
__VA_ARGS__
); \

36 
	`Ârötf
(
°dout
, "\n\033[0;0m"); \

37 } 0);

	)

40 #i‚de‡
off£t_of


41 
	#off£t_of
(
ty≥
, 
membî
Ë(()&((—y≥ *)0)->membî))

	)

44 #i‚de‡
c⁄èöî_of


45 
	#c⁄èöî_of
(
±r
, 
ty≥
, 
membî
) ({\

46 c⁄° 
	`ty≥of
(((
ty≥
 *)0)->
membî
Ë*
_m±r
 = 
±r
; \

47 (
ty≥
 *)((*)
_m±r
 - 
	`off£t_of
—y≥, 
membî
));})

	)

50 #i‚de‡
sw≠


51 
	#sw≠
(
a
, 
b
Ë{á =á ^ b; b =á ^ b;á =á ^ b; }

	)

54 #i‚de‡
¨r_size


55 
	#¨r_size
(
a
Ë–◊Ë/ ◊[0]Ë)

	)

	@print.h

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<°d¨g.h
>

10 #i‚de‡
debug_îr‹


11 
	#debug_îr‹
(...) \

13 
	`Ârötf
(
°dîr
, "\033[1;31m[%s() %d] \033[0m", \

14 
__func__
, 
__LINE__
); \

15 
	`Ârötf
(
°dîr
, ##
__VA_ARGS__
); \

16 
	`Ârötf
(
°dîr
, "\n"); \

17 } 0);

	)

20 #i‚de‡
debug_öfo


21 
	#debug_öfo
(...) \

23 
	`Ârötf
(
°dout
, "\033[1;35m[%s() %d] \033[0m", \

24 
__func__
, 
__LINE__
); \

25 
	`Ârötf
(
°dout
, ##
__VA_ARGS__
); \

26 
	`Ârötf
(
°dout
, "\n\033[0;0m"); \

27 } 0);

	)

30 #i‚de‡
cﬁ‹


31 
	#cﬁ‹
(
cﬁ‹_num
Ë"\033[0;"#cﬁ‹_num"m"

	)

33 #i‚de‡
cﬁ‹_íd


34 
	#cﬁ‹_íd
 "\033[0m"

	)

	@proc.h

1 #i‚de‡
__PROC_H__


2 
	#__PROC_H__


	)

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<sys/waô.h
>

9 
	~<sys/ty≥s.h
>

10 
	~<dúít.h
>

11 
	~<î∫o.h
>

12 
	~<°d¨g.h
>

13 
	~<f˙é.h
>

26 
cmd_exec
(c⁄° *
cmd
, *
pid
);

37 
gë_shñl_ªtu∫
(c⁄° *
cmd
, *
ªsu…
, 
size
);

48 
gë_shñl_ªsu…
(c⁄° *
cmd
, *
ªsu…
, 
size
);

57 
gë_µid
(
pid_t
 
pid
);

66 
gë_pid_by_«me
(c⁄° *
¥oc_«me
);

75 
gë_id_by_«me
(c⁄° *
«me
);

86 
gë_¥oc_«me_by_pid
(
pid_t
 
pid
, *
¥oc_«me
, 
size
);

97 
gë_«me_by_pid
(
pid_t
 
pid
, *
«me
, 
size
);

106 
check_¥oc_unique
(c⁄° *
«me
);

116 
is_¥oc_unique
(c⁄° *
¥oc_«me
);

127 
gë_exe_∑th_by_pid
(
pid_t
 
pid
, *
∑th
, 
size
);

139 
gë_fûe_∑th
(
fd
, 
pid
, *
∑th
, 
size
);

150 
gë_cmdlöe
(
pid
, *
cmdlöe
, 
size
);

160 
SYSTEM
(c⁄° *
f‹m©
, ...);

	@sock.h

1 #i‚de‡
__SOCK_H__


2 
	#__SOCK_H__


	)

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<f˙é.h
>

9 
	~<sys/ty≥s.h
>

10 
	~<±hªad.h
>

11 
	~<°dboﬁ.h
>

12 
	~<sys/sysöfo.h
>

13 
	~<sys/î∫o.h
>

14 
	~<sys/£À˘.h
>

15 
	~<sys/sockë.h
>

16 
	~<sys/io˘l.h
>

17 
	~<√töë/ö.h
>

18 
	~<¨∑/öë.h
>

19 
	~<√tdb.h
>

20 
	~<iÁddrs.h
>

21 
	~<sys/un.h
>

22 
	~<√töë/t˝.h
>

28 
	#MAX_CLIENT_NUM
 10

	)

29 
	#DFT_STRING_SIZE
 128

	)

30 
	#SOCKET_DATA_SIZE
 (
sockë_d©a
)

	)

31 
	#SOCKET_DATA_HEADER_SIZE
 (()&(((
sockë_d©a
 *)0)->
vÆue
))

	)

32 #i‚de‡
MACRO_STR


33 
	#MACRO_STR
(
x
Ë{x, #x}

	)

39 
sockë
 
	tsockë_t
;

40 (*
	tevít_cb
)(
	tfd
, *
	t¨g
);

41 * (*
	tthªad_ru¡öe
)(*
	t¨g
);

47 
	eevít_ty≥


49 
SOCKET_ON_ACCEPT
 = 1,

50 
SOCKET_ON_CONNECT
 = 2,

51 
SOCKET_ON_RECV
 = 4,

52 
SOCKET_ON_SEND
 = 8,

53 
SOCKET_ON_CLOSE
 = 16

54 } 
	tevít_ty≥_t
;

56 
	esockë_d©a_ty≥


58 
INT
 = 0,

59 
STRING
 ,

60 
CMD


61 } 
	tsockë_d©a_ty≥
;

74 
	sˇŒback


79 
evít_cb
 
evt_cb
;

84 *
¨g
;

85 } 
	tˇŒback
;

94 
	sevít_lo›


99 
evít_ty≥_t
 
evt
;

108 
ˇŒback
 
⁄_ac˚±
;

113 
ˇŒback
 
⁄_c⁄√˘
;

118 
ˇŒback
 
⁄_£nd
;

123 
ˇŒback
 
⁄_ªcv
;

128 
ˇŒback
 
⁄_˛o£
;

129 } 
	tevít_lo›_t
;

139 
	ssockë_d©a


144 
sockë_d©a_ty≥
 
ty≥
;

149 
size
;

155 
i
;

156 
s
[0];

157 *
p
;

158 } 
vÆue
;

159 } 
	tsockë_d©a_t
;

172 
	ssockë


177 
fd
;

182 
˛i_fd
[
MAX_CLIENT_NUM
];

187 
±hªad_t
 
±d
;

192 
evít_lo›_t
 
evl
;

197 
sockë_d©a_t
 
d©a
;

202 
sockaddr_ö
 
addr
;

212 
	ssockë_ty≥
 {

216 
ty≥_ma¸o
;

221 *
ty≥_«me
;

222 } 
sockë_ty≥
[] = {

223 
	`MACRO_STR
(
SOCK_STREAM
) ,

224 
	`MACRO_STR
(
SOCK_DGRAM
) ,

225 
	`MACRO_STR
(
SOCK_RAW
) ,

226 
	`MACRO_STR
(
SOCK_RDM
) ,

227 
	`MACRO_STR
(
SOCK_SEQPACKET
) ,

228 
	`MACRO_STR
(
SOCK_PACKET
) ,

229 {-1, 
NULL
}

230 
	}
};

244 
sockë_¸óã
(
domaö
, 
ty≥
);

255 
sockë_addr_öô
(*
addr
, 
domaö
, 
u_sh‹t
 
p‹t
, c⁄° *
ù
);

265 
sockë_böd
(
fd
, *
addr
);

275 
sockë_li°í
(
fd
, 
backlog
);

288 
sockë_°¨tup
(
domaö
, 
ty≥
, *
addr
, 
u_sh‹t
 
p‹t
, \

289 c⁄° *
ù
, 
is_£r
);

299 
sockë_ac˚±
(
fd
);

309 
sockë_c⁄√˘
(
fd
, *
˛i_addr
);

320 
sockë_time_c⁄√˘
(
fd
, *
˛i_addr
, 
tm_ms
);

329 
sockë_˛o£
(
fd
);

344 
sockë_£nd
(
fd
, *
buf
, 
size
);

356 
sockë_time_£nd
(
fd
, *
buf
, 
size
, 
time_ms
);

368 
sockë_d©a_£nd
(
fd
, 
sockë_d©a_ty≥
 
ty≥
, *
buf
, 
size
);

385 
sockë_£ndto
(
fd
, *
buf
, 
size
, c⁄° *
ù
, 
p‹t
);

397 
sockë_addr_£ndto
(
fd
, *
buf
, 
size
, *
addr
);

411 
sockë_d©a_£ndto
(
fd
, 
sockë_d©a_ty≥
 
ty≥
, \

412 *
buf
, 
size
, c⁄° *
ù
, 
p‹t
);

425 
sockë_addr_d©a_£ndto
(
fd
, 
sockë_d©a_ty≥
 
ty≥
, \

426 *
buf
, 
size
, *
addr
);

441 
sockë_ªcv
(
fd
, *
buf
, 
size
);

453 
sockë_time_ªcv
(
fd
, *
buf
, 
size
, 
time_ms
);

465 
sockë_d©a_ªcv
(
fd
, 
sockë_d©a_ty≥
 *
ty≥
, \

466 *
buf
, 
size
);

479 
sockë_d©a_time_ªcv
(
fd
, 
sockë_d©a_ty≥
 *
ty≥
, \

480 *
buf
, 
size
, 
time_ms
);

496 
udp_sockë_d©a_ªcv
(
fd
, 
sockë_d©a_ty≥
 *
ty≥
, \

497 *
buf
, 
size
);

510 
sockë_ªcv‰om
(
fd
, *
buf
, 
size
, c⁄° *
ù
, 
p‹t
);

522 
sockë_addr_ªcv‰om
(
fd
, *
buf
, 
size
, *
addr
);

536 
sockë_d©a_ªcv‰om
(
fd
, 
sockë_d©a_ty≥
 *
ty≥
, \

537 *
buf
, 
size
, c⁄° *
ù
, 
p‹t
);

550 
sockë_addr_d©a_ªcv‰om
(
fd
, 
sockë_d©a_ty≥
 *
ty≥
, \

551 *
buf
, 
size
, *
addr
);

562 
sockë_evít_öô
(
evít_lo›_t
 *
evl
);

572 
sockë_evít_add
(
evít_lo›_t
 *
evl
, 
evít_ty≥_t
 
evt
, 
evít_cb
 
cb
, *
¨g
);

580 
sockë_evít_dñëe
(
evít_lo›_t
 *
evl
, 
evít_ty≥_t
 
evt
);

587 
sockë_evít_˛óøŒ
(
evít_lo›_t
 *
evl
);

595 
sockë_evít_¥o˚ss
(
fd
, 
ˇŒback
 
cb
);

608 
gë_loˇl_ù
(
ù
[]);

617 
gë_ˇn_ªad_byãs
(
fd
);

626 
make_sockë_n⁄block
(
fd
);

635 
make_sockë_block
(
fd
);

644 
make_li°í_sockë_ªu£abÀ
(
fd
);

653 
make_sockë_kìp_Æive
(
fd
);

662 
make_sockë_˛o£√xec
(
fd
);

672 
£t_sockë_ªcv_buf
(
fd
, 
buf_size
);

682 
£t_sockë_£nd_buf
(
fd
, 
buf_size
);

691 
gë_sockë_ªcv_buf
(
fd
);

700 
gë_sockë_£nd_buf
(
fd
);

711 
make_sockë_˛o£_a˘i⁄
(
fd
, 
is_⁄
, 
tm_s
);

721 
make_sockë_brﬂdˇ°
(
fd
, 
⁄
);

731 
make_sockë_mu…iˇ°_lo›
(
fd
, 
⁄
);

741 
make_sockë_mu…iˇ°_âl
(
fd
, 
âl
);

751 
add_sockë_to_membîshù
(
fd
, 
ù_mªq
 *
mrq
);

761 
dr›_sockë_‰om_membîshù
(
fd
, 
ù_mªq
 *
mrq
);

770 
gë_sockë_£nd_timeout
(
fd
);

779 
gë_sockë_ªcv_timeout
(
fd
);

789 
make_sockë_£nd_timeout
(
fd
, 
tm_ms
);

799 
make_sockë_ªcv_timeout
(
fd
, 
tm_ms
);

808 
gë_sockë_ty≥
(
fd
);

817 * 
gë_sockë_ty≥_°r
(
fd
);

824 
is_big_ídün
();

843 
£rvî_¸óã
(
sockë
 *
sck
, 
domaö
, 
ty≥
, \

844 
u_sh‹t
 
p‹t
, c⁄° *
ù
);

851 
£rvî_°›
(
sockë
 *
sck
);

865 
˛õ¡_c⁄√˘
(
sockë
 *
sck
, 
domaö
, 
ty≥
, \

866 c⁄° *
ù
, 
u_sh‹t
 
p‹t
);

881 
˛õ¡_time_c⁄√˘
(
sockë
 *
sck
, 
domaö
, 
ty≥
, \

882 c⁄° *
ù
, 
u_sh‹t
 
p‹t
, 
tm_ms
);

899 
udp_brﬂdˇ°_£nd
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

900 c⁄° *
ˇ°_öfo
);

913 
udp_brﬂdˇ°_ªcv
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

914 **
ˇ°_öfo
, 
size
);

930 
udp_mu…iˇ°_£nd
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

931 c⁄° *
ˇ°_öfo
);

944 
udp_mu…iˇ°_ªcv
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

945 **
ˇ°_öfo
, 
size
);

	@socket/socket_app.h

1 #i‚de‡
__SOCKET_APP_H__


2 
	#__SOCKET_APP_H__


	)

4 #i‚de‡
__SOCKET_BASE_H__


5 
	~"sockë_ba£.h
"

8 #i‚de‡
__SOCKET_PROPERTY_H__


9 
	~"sockë_¥›îty.h
"

12 #i‚de‡
__SOCKET_EVENT_H__


13 
	~"sockë_evít.h
"

16 #i‚de‡
__SOCKET_HEADER_H__


17 
	#__SOCKET_HEADER_H__


	)

18 
	~"sockë_hódî.h
"

21 
	~<±hªad.h
>

22 
	~<√çackë/∑ckë.h
>

23 
	~<sys/sockë.h
>

24 
	~<löux/√éök.h
>

25 
	~<löux/π√éök.h
>

26 
	~<√töë/s˘p.h
>

27 
	~<√t/if.h
>

28 
	~<√t/if_¨p.h
>

29 
	~<pˇp.h
>

34 
	#MAX_CLIENT_NUM
 10

	)

35 
	#DFT_STRING_SIZE
 128

	)

36 
	#SOCKET_DATA_SIZE
 (
sockë_d©a
)

	)

37 
	#SOCKET_DATA_HEADER_SIZE
 (()&(((
sockë_d©a
 *)0)->
vÆue
))

	)

42 * (*
	tthªad_ru¡öe
)(*
	t¨g
);

55 
	ssockë_im∂


60 
	mfd
;

65 
	m˛i_fd
[
MAX_CLIENT_NUM
];

66 
	mcuº_˛i_fd
;

71 
±hªad_t
 
	m±d
;

76 
evít_lo›_t
 
	mevl
;

82 
sockaddr_ö
 
	mö_addr
;

83 
sockaddr_un
 
	mun_addr
;

84 
sockaddr
 
	maddr
;

85 } 
	maddr
;

90 
	mbody
[0];

91 } 
	tsockë_im∂_t
;

107 
udp_brﬂdˇ°_£nd
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

108 c⁄° *
ˇ°_öfo
);

121 
udp_brﬂdˇ°_ªcv
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

122 *
ˇ°_öfo
, 
size
);

138 
udp_mu…iˇ°_£nd
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

139 c⁄° *
ˇ°_öfo
);

152 
udp_mu…iˇ°_ªcv
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

153 *
ˇ°_öfo
, 
size
);

168 
öë_£rvî_¸óã
(
sockë_im∂
 *
sck
, 
ty≥
, \

169 c⁄° *
ù
, 
u_sh‹t
 
p‹t
);

182 
loˇl_£rvî_¸óã
(
sockë_im∂
 *
sck
, 
ty≥
, c⁄° *
∑th
);

189 
£rvî_°›
(
sockë_im∂
 *
sck
);

201 
öë_˛õ¡_c⁄√˘
(
sockë_im∂
 *
sck
, 
ty≥
, \

202 c⁄° *
ù
, 
u_sh‹t
 
p‹t
);

213 
loˇl_˛õ¡_c⁄√˘
(
sockë_im∂
 *
sck
, 
ty≥
, c⁄° *
∑th
);

226 
öë_˛õ¡_time_c⁄√˘
(
sockë_im∂
 *
sck
, 
ty≥
, \

227 c⁄° *
ù
, 
u_sh‹t
 
p‹t
, 
tm_ms
);

239 
loˇl_˛õ¡_time_c⁄√˘
(
sockë_im∂
 *
sck
, 
ty≥
, c⁄° *
∑th
, 
tm_ms
);

246 
øw_sockë_öô
();

248 
∑r£_ëhî_hód
(*
d©a
, 
dho°
[6], \

249 
sho°
[6], *
¥Ÿo_ty≥
);

251 
¥öt_mac
(c⁄° *
öfo
, 
mac_addr
[6]);

253 
∑r£_icmp_hód
(*
d©a
, *
ty≥
, *
code
);

255 
∑r£_pög
(*
d©a
);

269 
s˘p_£rvî_¸óã
(
sockë_im∂
 *
sck
, c⁄° *
ù
, 
p‹t
);

280 
s˘p_˛õ¡_c⁄√˘
(
sockë_im∂
 *
sck
, c⁄° *
ù
, 
p‹t
);

295 
lök°©d
((*
lök_up
)(c⁄° *
i‚ame
), (*
lök_down
)(const *ifname));

309 
	`¨p_chót
(c⁄° *
i‚ame
, c⁄° *
©èck_ù
,

310 c⁄° *
g©eway_ù
);

	@socket/socket_base.h

1 #i‚de‡
__SOCKET_BASE_H__


2 
	#__SOCKET_BASE_H__


	)

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<sys/î∫o.h
>

9 
	~<sys/ty≥s.h
>

10 
	~<sys/un.h
>

11 
	~<sys/sockë.h
>

12 
	~<√töë/ö.h
>

13 
	~<√töë/t˝.h
>

14 
	~<√töë/s˘p.h
>

15 
	~<f˙é.h
>

16 
	~<sys/io˘l.h
>

17 
	~<¨∑/öë.h
>

31 
sockë_¸óã
(
domaö
, 
ty≥
, 
¥Ÿocﬁ
);

40 
öë_addr_öô
(
sockaddr_ö
 *
addr
, c⁄° *
ù
, 
u_sh‹t
 
p‹t
);

48 
loˇl_addr_öô
(
sockaddr_un
 *
addr
, c⁄° *
∑th
);

58 
sockë_böd
(
fd
, 
sockaddr
 *
addr
);

68 
sockë_li°í
(
fd
, 
backlog
);

81 
°¨tup_öë_£rvî
(
ty≥
, c⁄° *
ù
, \

82 
u_sh‹t
 
p‹t
);

95 
°¨tup_öë_˛õ¡
(
ty≥
, 
sockaddr_ö
 *
addr
, \

96 c⁄° *
ù
, 
u_sh‹t
 
p‹t
);

109 
°¨tup_loˇl_£rvî
(
ty≥
, c⁄° *
∑th
);

120 
°¨tup_loˇl_˛õ¡
(
ty≥
, 
sockaddr_un
 *
addr
, c⁄° *
∑th
);

130 
sockë_ac˚±
(
fd
);

140 
sockë_c⁄√˘
(
fd
, *
˛i_addr
);

151 
sockë_time_c⁄√˘
(
fd
, *
˛i_addr
, 
tm_ms
);

160 
sockë_˛o£
(
fd
);

175 
sockë_£nd
(
fd
, *
buf
, 
size
);

187 
sockë_time_£nd
(
fd
, *
buf
, 
size
, 
time_ms
);

204 
sockë_£ndto
(
fd
, *
buf
, 
size
, c⁄° *
ù
, 
p‹t
);

216 
sockë_addr_£ndto
(
fd
, *
buf
, 
size
, *
addr
);

232 
sockë_ªcv
(
fd
, *
buf
, 
size
);

244 
sockë_time_ªcv
(
fd
, *
buf
, 
size
, 
time_ms
);

262 
sockë_ªcv‰om
(
fd
, *
buf
, 
size
, c⁄° *
ù
, 
p‹t
);

274 
sockë_addr_ªcv‰om
(
fd
, *
buf
, 
size
, *
addr
);

	@socket/socket_event.h

1 #i‚de‡
__SOCKET_EVENT_H__


2 
	#__SOCKET_EVENT_H__


	)

4 #i‚de‡
__SOCKET_BASE_H__


5 
	~<sockë_ba£.h
>

11 (*
	tevít_cb
)(
	tfd
, *
	t¨g
);

16 
	eevít_ty≥


18 
SOCKET_ON_ACCEPT
 = 1,

19 
SOCKET_ON_CONNECT
 = 2,

20 
SOCKET_ON_RECV
 = 4,

21 
SOCKET_ON_SEND
 = 8,

22 
SOCKET_ON_CLOSE
 = 16

23 } 
	tevít_ty≥_t
;

35 
	sˇŒ_back


40 
evít_cb
 
evt_cb
;

45 *
¨g
;

46 } 
	tˇŒ_back_t
;

55 
	sevít_lo›


64 
ˇŒ_back
 
⁄_ac˚±
;

69 
ˇŒ_back
 
⁄_c⁄√˘
;

74 
ˇŒ_back
 
⁄_£nd
;

79 
ˇŒ_back
 
⁄_ªcv
;

84 
ˇŒ_back
 
⁄_˛o£
;

85 } 
	tevít_lo›_t
;

95 
	`sockë_evít_öô
(
evít_lo›_t
 *
evl
);

105 
	`sockë_evít_add
(
evít_lo›_t
 *
evl
, 
evít_ty≥_t
 
evt
, 
evít_cb
 
cb
, *
¨g
);

113 
	`sockë_evít_dñëe
(
evít_lo›_t
 *
evl
, 
evít_ty≥_t
 
evt
);

120 
	`sockë_evít_˛óøŒ
(
evít_lo›_t
 *
evl
);

128 
	`sockë_evít_¥o˚ss
(
fd
, 
ˇŒ_back
 
cb
);

	@socket/socket_header.h

1 #i‚de‡
__SOCKET_HEADER__


2 
	#__SOCKET_HEADER__


	)

4 #i‚de‡
_LITTLE_ENDIAN_


5 
	#_LITTLE_ENDIAN_
 0x01

	)

8 #i‚de‡
_BIG_ENDIAN_


9 
	#_BIG_ENDIAN_
 0x02

	)

12 #i‚de‡
_BYTE_ORDER_


13 
	#_BYTE_ORDER_
 (0x0201 & 0xff)

	)

24 
	sëhî_hdr
 {

25 
	md°_mac
[6];

26 
	m§c_mac
[6];

27 
	m¥Ÿo_ty≥
;

28 } 
__©åibuã__
 ((
__∑cked__
));

30 
	sicmp_hdr
 {

31 
	mi_ty≥
;

32 
	mi_code
;

33 
	mi_cksum
;

34 } 
__©åibuã__
 ((
__∑cked__
));

36 
	spög_hdr
 {

37 
	mi_id
;

38 
	mi_£q
;

39 } 
__©åibuã__
 ((
__∑cked__
));

41 
	s¨p_hdr


43 
	m¨_hrd
;

44 
	m¨_¥o
;

45 
	m¨_h 
;

46 
	m¨_∂n
;

47 
	m¨_›
;

59 
	s‰ame_hdr
 {

60 
	md°_mac
[6];

61 
	m§c_mac
[6];

62 
	m¥Ÿo_ty≥
;

66 
	s‰ame_¨p
 {

67 
‰ame_hdr
 
	mfh
;

68 
¨p_hdr
 
	mah
;

69 
	m§c_mac
[6];

70 
	m§c_ù
[4];

71 
	md°_mac
[6];

72 
	md°_ù
[4];

	@socket/socket_property.h

1 #i‚de‡
__SOCKET_PROPERTY_H__


2 
	#__SOCKET_PROPERTY_H__


	)

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<f˙é.h
>

9 
	~<sys/î∫o.h
>

10 
	~<sys/sysöfo.h
>

11 
	~<sys/ty≥s.h
>

12 
	~<sys/sockë.h
>

13 
	~<sys/io˘l.h
>

14 
	~<√töë/ö.h
>

15 
	~<¨∑/öë.h
>

16 
	~<√tdb.h
>

17 
	~<iÁddrs.h
>

18 
	~<sys/un.h
>

19 
	~<√t/if.h
>

20 
	~<löux/if_ëhî.h
>

21 
	~<löux/sockios.h
>

22 
	~<√töë/t˝.h
>

23 
	~<√töë/s˘p.h
>

24 
	~<löux/π√éök.h
>

29 #i‚de‡
MACRO_STR


30 
	#MACRO_STR
(
x
Ë{x, #x}

	)

33 #i‚de‡
SIOCETHTOOL


34 
	#SIOCETHTOOL
 0x8946

	)

37 
	#ETHTOOL_GSET
 0x00000001

	)

38 
	#ETHTOOL_SSET
 0x00000002

	)

41 
	#SPEED_10
 10

	)

42 
	#SPEED_100
 100

	)

43 
	#SPEED_1000
 1000

	)

44 
	#SPEED_2500
 2500

	)

45 
	#SPEED_10000
 10000

	)

48 
	sëhtoﬁ_cmd
 {

49 
__u32
 
	mcmd
;

50 
__u32
 
	msuµ‹ãd
;

51 
__u32
 
	madvîtisög
;

52 
__u16
 
	m•ìd
;

53 
__u8
 
	mdu∂ex
;

54 
__u8
 
	mp‹t
;

55 
__u8
 
	mphy_addªss
;

56 
__u8
 
	må™s˚ivî
;

57 
__u8
 
	maut⁄eg
;

58 
__u32
 
	mmaxtxpkt
;

59 
__u32
 
	mmaxrxpkt
;

60 
__u32
 
	mª£rved
[4];

73 
	ssockë_ty≥
 {

77 
	mty≥_ma¸o
;

82 *
	mty≥_«me
;

96 
gë_ù
(
ù
[]);

106 
gë_ù_by_i‚ame
(c⁄° *
i‚ame
, *
ù
);

116 
gë_mac_addr
(c⁄° *
i‚ame
, *
mac
);

126 * 
gë_sub√t_addr
(c⁄° *
ù
, c⁄° *
mask
);

135 
mask_to_bôs
(c⁄° *
mask
);

144 
gë_i‚ame
(*
i‚ame
);

153 
gë_ˇn_ªad_byãs
(
fd
);

162 
make_sockë_n⁄block
(
fd
);

171 
make_sockë_block
(
fd
);

180 
make_li°í_sockë_ªu£abÀ
(
fd
);

189 
make_sockë_kìp_Æive
(
fd
);

198 
make_sockë_˛o£√xec
(
fd
);

208 
£t_sockë_ªcv_buf
(
fd
, 
buf_size
);

218 
£t_sockë_£nd_buf
(
fd
, 
buf_size
);

227 
gë_sockë_ªcv_buf
(
fd
);

236 
gë_sockë_£nd_buf
(
fd
);

247 
make_sockë_˛o£_a˘i⁄
(
fd
, 
is_⁄
, 
tm_s
);

257 
make_sockë_brﬂdˇ°
(
fd
, 
⁄
);

267 
make_sockë_mu…iˇ°_lo›
(
fd
, 
⁄
);

277 
make_sockë_mu…iˇ°_âl
(
fd
, 
âl
);

287 
add_sockë_to_membîshù
(
fd
, 
ù_mªq
 *
mrq
);

297 
dr›_sockë_‰om_membîshù
(
fd
, 
ù_mªq
 *
mrq
);

306 
gë_sockë_£nd_timeout
(
fd
);

315 
gë_sockë_ªcv_timeout
(
fd
);

325 
make_sockë_£nd_timeout
(
fd
, 
tm_ms
);

335 
make_sockë_ªcv_timeout
(
fd
, 
tm_ms
);

344 
gë_sockë_¥Ÿocﬁ
(
fd
);

353 
gë_sockë_ty≥
(
fd
);

362 * 
gë_sockë_ty≥_°r
(
fd
);

373 
make_sockë_¥omisc
(c⁄° *
i‚ame
, 
fd
, 
⁄
);

383 
gë_öãrÁ˚_ödex
(
fd
, 
i‰eq
 *
ªq
);

390 
is_big_ídün
();

399 
m©ch_ù
(c⁄° *
ù
);

408 
gë_ëh_•ìd
(c⁄° *
i‚ame
);

417 
gë_sockë_îr‹
(
fd
);

427 
gë_g©eway
(*
g©eway
, *
i‚ame
);

	@socket_app.h

1 #i‚de‡
__SOCKET_APP_H__


2 
	#__SOCKET_APP_H__


	)

4 #i‚de‡
__SOCKET_BASE_H__


5 
	~<sockë_ba£.h
>

8 #i‚de‡
__SOCKET_PROPERTY_H__


9 
	~<sockë_¥›îty.h
>

12 #i‚de‡
__SOCKET_EVENT_H__


13 
	~"sockë_evít.h
"

16 
	~<±hªad.h
>

17 
	~<√çackë/∑ckë.h
>

18 
	~<sys/sockë.h
>

19 
	~"sockë_hódî.h
"

24 
	#MAX_CLIENT_NUM
 10

	)

25 
	#DFT_STRING_SIZE
 128

	)

26 
	#SOCKET_DATA_SIZE
 (
sockë_d©a
)

	)

27 
	#SOCKET_DATA_HEADER_SIZE
 (()&(((
sockë_d©a
 *)0)->
vÆue
))

	)

32 * (*
	tthªad_ru¡öe
)(*
	t¨g
);

45 
	ssockë_im∂


50 
	mfd
;

55 
	m˛i_fd
[
MAX_CLIENT_NUM
];

60 
±hªad_t
 
	m±d
;

65 
evít_lo›_t
 
	mevl
;

71 
sockaddr_ö
 
	mö_addr
;

72 
sockaddr_un
 
	mun_addr
;

73 } 
	maddr
;

79 
	mbody
[0];

80 } 
	tsockë_im∂_t
;

96 
udp_brﬂdˇ°_£nd
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

97 c⁄° *
ˇ°_öfo
);

110 
udp_brﬂdˇ°_ªcv
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

111 *
ˇ°_öfo
, 
size
);

127 
udp_mu…iˇ°_£nd
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

128 c⁄° *
ˇ°_öfo
);

141 
udp_mu…iˇ°_ªcv
(c⁄° *
ˇ°_ù
, 
p‹t
, 
ˇ°_times
,\

142 *
ˇ°_öfo
, 
size
);

157 
öë_£rvî_¸óã
(
sockë_im∂
 *
sck
, 
ty≥
, \

158 c⁄° *
ù
, 
u_sh‹t
 
p‹t
);

171 
loˇl_£rvî_¸óã
(
sockë_im∂
 *
sck
, 
ty≥
, c⁄° *
∑th
);

178 
£rvî_°›
(
sockë_im∂
 *
sck
);

190 
öë_˛õ¡_c⁄√˘
(
sockë_im∂
 *
sck
, 
ty≥
, \

191 c⁄° *
ù
, 
u_sh‹t
 
p‹t
);

202 
loˇl_˛õ¡_c⁄√˘
(
sockë_im∂
 *
sck
, 
ty≥
, c⁄° *
∑th
);

215 
öë_˛õ¡_time_c⁄√˘
(
sockë_im∂
 *
sck
, 
ty≥
, \

216 c⁄° *
ù
, 
u_sh‹t
 
p‹t
, 
tm_ms
);

228 
loˇl_˛õ¡_time_c⁄√˘
(
sockë_im∂
 *
sck
, 
ty≥
, c⁄° *
∑th
, 
tm_ms
);

235 
øw_sockë_öô
();

237 
∑r£_ëhî_hód
(*
d©a
, 
dho°
[6], \

238 
sho°
[6], *
¥Ÿo_ty≥
);

240 
¥öt_mac
(c⁄° *
öfo
, 
mac_addr
[6]);

242 
∑r£_icmp_hód
(*
d©a
, *
ty≥
, *
code
);

244 
∑r£_pög
(*
d©a
);

	@socket_base.h

1 #i‚de‡
__SOCKET_BASE_H__


2 
	#__SOCKET_BASE_H__


	)

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<sys/î∫o.h
>

9 
	~<sys/ty≥s.h
>

10 
	~<sys/un.h
>

11 
	~<sys/sockë.h
>

12 
	~<√töë/ö.h
>

13 
	~<√töë/t˝.h
>

14 
	~<√töë/s˘p.h
>

28 
sockë_¸óã
(
domaö
, 
ty≥
);

37 
öë_addr_öô
(
sockaddr_ö
 *
addr
, c⁄° *
ù
, 
u_sh‹t
 
p‹t
);

45 
loˇl_addr_öô
(
sockaddr_un
 *
addr
, c⁄° *
∑th
);

55 
sockë_böd
(
fd
, 
sockaddr
 *
addr
);

65 
sockë_li°í
(
fd
, 
backlog
);

78 
°¨tup_öë_£rvî
(
ty≥
, c⁄° *
ù
, \

79 
u_sh‹t
 
p‹t
);

92 
°¨tup_öë_˛õ¡
(
ty≥
, 
sockaddr_ö
 *
addr
, \

93 c⁄° *
ù
, 
u_sh‹t
 
p‹t
);

106 
°¨tup_loˇl_£rvî
(
ty≥
, c⁄° *
∑th
);

117 
°¨tup_loˇl_˛õ¡
(
ty≥
, 
sockaddr_un
 *
addr
, c⁄° *
∑th
);

127 
sockë_ac˚±
(
fd
);

137 
sockë_c⁄√˘
(
fd
, *
˛i_addr
);

148 
sockë_time_c⁄√˘
(
fd
, *
˛i_addr
, 
tm_ms
);

157 
sockë_˛o£
(
fd
);

172 
sockë_£nd
(
fd
, *
buf
, 
size
);

184 
sockë_time_£nd
(
fd
, *
buf
, 
size
, 
time_ms
);

201 
sockë_£ndto
(
fd
, *
buf
, 
size
, c⁄° *
ù
, 
p‹t
);

213 
sockë_addr_£ndto
(
fd
, *
buf
, 
size
, *
addr
);

229 
sockë_ªcv
(
fd
, *
buf
, 
size
);

241 
sockë_time_ªcv
(
fd
, *
buf
, 
size
, 
time_ms
);

259 
sockë_ªcv‰om
(
fd
, *
buf
, 
size
, c⁄° *
ù
, 
p‹t
);

271 
sockë_addr_ªcv‰om
(
fd
, *
buf
, 
size
, *
addr
);

	@socket_event.h

1 #i‚de‡
__SOCKET_EVENT_H__


2 
	#__SOCKET_EVENT_H__


	)

4 #i‚de‡
__SOCKET_BASE_H__


5 
	~<sockë_ba£.h
>

11 (*
	tevít_cb
)(
	tfd
, *
	t¨g
);

16 
	eevít_ty≥


18 
SOCKET_ON_ACCEPT
 = 1,

19 
SOCKET_ON_CONNECT
 = 2,

20 
SOCKET_ON_RECV
 = 4,

21 
SOCKET_ON_SEND
 = 8,

22 
SOCKET_ON_CLOSE
 = 16

23 } 
	tevít_ty≥_t
;

35 
	sˇŒ_back


40 
evít_cb
 
evt_cb
;

45 *
¨g
;

46 } 
	tˇŒ_back_t
;

55 
	sevít_lo›


64 
ˇŒ_back
 
⁄_ac˚±
;

69 
ˇŒ_back
 
⁄_c⁄√˘
;

74 
ˇŒ_back
 
⁄_£nd
;

79 
ˇŒ_back
 
⁄_ªcv
;

84 
ˇŒ_back
 
⁄_˛o£
;

85 } 
	tevít_lo›_t
;

95 
	`sockë_evít_öô
(
evít_lo›_t
 *
evl
);

105 
	`sockë_evít_add
(
evít_lo›_t
 *
evl
, 
evít_ty≥_t
 
evt
, 
evít_cb
 
cb
, *
¨g
);

113 
	`sockë_evít_dñëe
(
evít_lo›_t
 *
evl
, 
evít_ty≥_t
 
evt
);

120 
	`sockë_evít_˛óøŒ
(
evít_lo›_t
 *
evl
);

128 
	`sockë_evít_¥o˚ss
(
fd
, 
ˇŒ_back
 
cb
);

	@socket_header.h

1 #i‚de‡
__SOCKET_HEADER__


2 
	#__SOCKET_HEADER__


	)

4 #i‚de‡
_LITTLE_ENDIAN_


5 
	#_LITTLE_ENDIAN_
 0x01

	)

8 #i‚de‡
_BIG_ENDIAN_


9 
	#_BIG_ENDIAN_
 0x02

	)

12 #i‚de‡
_BYTE_ORDER_


13 
	#_BYTE_ORDER_
 (0x0201 & 0xff)

	)

24 
	sëhî_hdr
 {

25 
	mëhî_dho°
[6];

26 
	mëhî_sho°
[6];

27 
	m¥Ÿo_ty≥
;

28 } 
__©åibuã__
 ((
__∑cked__
));

30 
	sicmp_hdr
 {

31 
	mi_ty≥
;

32 
	mi_code
;

33 
	mi_cksum
;

34 } 
__©åibuã__
 ((
__∑cked__
));

36 
	spög_hdr
 {

37 
	mi_id
;

38 
	mi_£q
;

39 } 
__©åibuã__
 ((
__∑cked__
));

	@socket_msg.h

1 #i‚de‡
__SOCKET_MSG_H__


2 
	#__SOCKET_MSG_H__


	)

4 #i‚de‡
__SOCKET_BASE_H__


5 
	~"sockë_ba£.h
"

8 
	~<sys/shm.h
>

9 
	~<£m≠h‹e.h
>

10 
	~<±hªad.h
>

15 
	#MOD_MAX
 32

	)

16 
	#MSG_MAX_LEN
 (1024 * 32)

	)

17 
	#MSG_SOCKET_DIR
 "/v¨/msg/"

	)

22 
	tmod_id_t
;

23 
	tmsg_Êag_t
;

29 
	emsg_r°
 {

30 
	mMSG_RST_SUCCESS
 = 0,

31 
	mMSG_RST_FAILURE
,

32 
	mMSG_RST_INVALID_CFG
,

33 
	mMSG_RST_INVALID_MOD_ID
,

34 
	mMSG_RST_SOCKET_ERROR
,

35 
	mMSG_RST_THREAD_ERROR
,

36 
	mMSG_RST_QUEUE_FULL


37 } 
	tmsg_r°_t
;

40 
	mMOD_ID_UNKNOW
 = 0,

41 
	mMOD_ID_TMR
 = 1

47 
	smsg
 {

48 
	mídün
;

49 
mod_id_t
 
	m§c_id
;

50 
mod_id_t
 
	md°_id
;

51 
mod_id_t
 
	mmod
;

52 
	mmsg_id
;

53 
	mÀn
;

54 
	mhﬁd_˙t
;

56 (*
	mde°ru˘‹
)(*);

57 *
	m‰ì_±r
;

58 
msg
 *
	m√xt
;

63 
	mbody
[0];

64 } 
	tmsg_t
;

66 
	#MSG
(
p
Ë((
msg
 *)’))

	)

67 
	#MSG_MOD
(
p
Ë–
	`MSG
’)->
mod
 )

	)

68 
	#MSG_MSGID
(
p
Ë–
	`MSG
’)->
msg_id
 )

	)

69 
	#MSG_LEN
(
p
Ë–
	`MSG
’)->
Àn
 )

	)

70 
	#MSG_DATA
(
p
Ë–
	`MSG
’)->
body
 )

	)

71 
	#MSG_SRC
(
p
Ë–
	`MSG
’)->
§c_id
 )

	)

73 –*
	tmsg_h™dÀr_t
 )(
	tmsg
 *msg);

74 
	$msg_Êag_t
 ( *
	tmsg_idít
 )(
	tmsg
 *msg);

82 
	smsg_mod_cfg
 {

83 *
«me
;

84 
mod_id_t
 
mod_id
;

85 
±hªad_t
 
thªad_id
;

86 
msg_h™dÀr_t
 
h™dÀr
;

87 } 
	tmsg_mod_cfg_t
;

90 
	sloˇl_msg_íåy
 {

94 
mod_id_t
 
mod_id
;

99 
pos
;

100 
£m_t
 
£m
;

101 
±hªad_muãx_t
 
mtx
;

102 
msg
 *
h™dlög_msg
;

107 
msg_idít
 
idít
;

108 
msg_h™dÀr_t
 
h™dÀr
;

109 
±hªad_t
 
¥oc_thªad
;

110 
¥oc_°›
;

115 
msg_hdÀd_tŸÆ
;

116 
mod_ªg_sys_u±ime
;

117 } 
	tloˇl_íåy_t
;

119 
	sshm_íåy
 {

120 
mod_id_t
 
mod_id
;

121 
Êag
;

122 
sockaddr_ö
 
ö_addr
;

123 
sockaddr_un
 
un_addr
;

124 } 
	tshm_íåy_t
;

126 
	smsg_˘l
 {

130 
	sloc_˘l
 {

131 
±hªad_rwlock_t
 
rwlock
;

132 
loˇl_msg_íåy
 
ªg_tbl
[ 
MOD_MAX
 ];

133 } *
p_loc_˘l
;

138 
	sshm_˘l
 {

139 
±hªad_rwlock_t
 
rwlock
;

140 
shm_íåy
 
ªg_tbl
[ 
MOD_MAX
 ];

141 } *
p_shm_˘l
;

146 
ùc_fd
;

147 
±hªad_t
 
ùc_thªad
;

148 
ùc_°›
;

149 } 
	tmsg_˘l_t
;

151 
msg_˘l
 *
p_msg_˘l
 = 
NULL
;

	@socket_property.h

1 #i‚de‡
__SOCKET_PROPERTY_H__


2 
	#__SOCKET_PROPERTY_H__


	)

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<f˙é.h
>

9 
	~<sys/î∫o.h
>

10 
	~<sys/sysöfo.h
>

11 
	~<sys/ty≥s.h
>

12 
	~<sys/sockë.h
>

13 
	~<sys/io˘l.h
>

14 
	~<√töë/ö.h
>

15 
	~<¨∑/öë.h
>

16 
	~<√tdb.h
>

17 
	~<iÁddrs.h
>

18 
	~<sys/un.h
>

19 
	~<√t/if.h
>

20 
	~<löux/if_ëhî.h
>

21 
	~<löux/sockios.h
>

22 
	~<√töë/t˝.h
>

23 
	~<√töë/s˘p.h
>

28 #i‚de‡
MACRO_STR


29 
	#MACRO_STR
(
x
Ë{x, #x}

	)

32 #i‚de‡
SIOCETHTOOL


33 
	#SIOCETHTOOL
 0x8946

	)

36 
	#ETHTOOL_GSET
 0x00000001

	)

37 
	#ETHTOOL_SSET
 0x00000002

	)

40 
	#SPEED_10
 10

	)

41 
	#SPEED_100
 100

	)

42 
	#SPEED_1000
 1000

	)

43 
	#SPEED_2500
 2500

	)

44 
	#SPEED_10000
 10000

	)

47 
	sëhtoﬁ_cmd
 {

48 
__u32
 
	mcmd
;

49 
__u32
 
	msuµ‹ãd
;

50 
__u32
 
	madvîtisög
;

51 
__u16
 
	m•ìd
;

52 
__u8
 
	mdu∂ex
;

53 
__u8
 
	mp‹t
;

54 
__u8
 
	mphy_addªss
;

55 
__u8
 
	må™s˚ivî
;

56 
__u8
 
	maut⁄eg
;

57 
__u32
 
	mmaxtxpkt
;

58 
__u32
 
	mmaxrxpkt
;

59 
__u32
 
	mª£rved
[4];

72 
	ssockë_ty≥
 {

76 
	mty≥_ma¸o
;

81 *
	mty≥_«me
;

95 
gë_ù
(
ù
[]);

105 
gë_ù_by_i‚ame
(c⁄° *
i‚ame
, *
ù
);

115 
gë_mac_addr
(c⁄° *
i‚ame
, *
mac
);

125 * 
gë_sub√t_addr
(c⁄° *
ù
, c⁄° *
mask
);

134 
mask_to_bôs
(c⁄° *
mask
);

143 
gë_i‚ame
(*
i‚ame
);

152 
gë_ˇn_ªad_byãs
(
fd
);

161 
make_sockë_n⁄block
(
fd
);

170 
make_sockë_block
(
fd
);

179 
make_li°í_sockë_ªu£abÀ
(
fd
);

188 
make_sockë_kìp_Æive
(
fd
);

197 
make_sockë_˛o£√xec
(
fd
);

207 
£t_sockë_ªcv_buf
(
fd
, 
buf_size
);

217 
£t_sockë_£nd_buf
(
fd
, 
buf_size
);

226 
gë_sockë_ªcv_buf
(
fd
);

235 
gë_sockë_£nd_buf
(
fd
);

246 
make_sockë_˛o£_a˘i⁄
(
fd
, 
is_⁄
, 
tm_s
);

256 
make_sockë_brﬂdˇ°
(
fd
, 
⁄
);

266 
make_sockë_mu…iˇ°_lo›
(
fd
, 
⁄
);

276 
make_sockë_mu…iˇ°_âl
(
fd
, 
âl
);

286 
add_sockë_to_membîshù
(
fd
, 
ù_mªq
 *
mrq
);

296 
dr›_sockë_‰om_membîshù
(
fd
, 
ù_mªq
 *
mrq
);

305 
gë_sockë_£nd_timeout
(
fd
);

314 
gë_sockë_ªcv_timeout
(
fd
);

324 
make_sockë_£nd_timeout
(
fd
, 
tm_ms
);

334 
make_sockë_ªcv_timeout
(
fd
, 
tm_ms
);

343 
gë_sockë_¥Ÿocﬁ
(
fd
);

352 
gë_sockë_ty≥
(
fd
);

361 * 
gë_sockë_ty≥_°r
(
fd
);

372 
make_sockë_¥omisc
(c⁄° *
i‚ame
, 
fd
, 
⁄
);

382 
gë_öãrÁ˚_ödex
(
fd
, 
i‰eq
 *
ªq
);

389 
is_big_ídün
();

398 
m©ch_ù
(c⁄° *
ù
);

407 
gë_ëh_•ìd
(c⁄° *
i‚ame
);

	@thread.h

1 #i‚de‡
__THREAD_H__


2 
	#__THREAD_H__


	)

3 
	~<°dio.h
>

4 
	~<uni°d.h
>

5 
	~<±hªad.h
>

6 
	~<sys/£À˘.h
>

12 * (*
	t±hªad_ru¡öe
)(*);

14 
	s±hªad_w‹kî


16 
±hªad_ru¡öe
 
	mru¡öe
;

17 *
	m¨g
;

18 } 
	t±hªad_w‹kî_t
;

20 
	sthªad_im∂


22 
	ma˘ive
;

23 
	mkìp
;

24 
	mrun
;

25 
	mdñëe
;

26 
	md⁄e
;

27 
±hªad_t
 
	mpid
;

28 
±hªad_w‹kî_t
 
	mw‹kî
;

29 
±hªad_muãx_t
 
	mlock
;

30 
±hªad_c⁄d_t
 
	mªady
;

31 } 
	tthªad_t
;

42 
±hªad_°¨t
(
thªad_t
 *
im∂
, 
±hªad_ru¡öe
 
ru¡öe
, *
¨g
, 
run
, 
kìp
);

51 
±hªad_exec
(
thªad_t
 *
im∂
, 
±hªad_ru¡öe
 
ru¡öe
, *
¨g
);

58 
±hªad_run
(
thªad_t
 *
im∂
);

67 
±hªad_lock
(
thªad_t
 *
im∂
);

76 
±hªad_åylock
(
thªad_t
 *
im∂
);

85 
±hªad_u∆ock
(
thªad_t
 *
im∂
);

94 
±hªad_dñëe
(
thªad_t
 *
im∂
);

101 
±hªad_waô_ovî
(
thªad_t
 *
im∂
);

108 
±hªad_time_waô_ovî
(
thªad_t
 *
im∂
, 
tm_ms
);

	@timer.h

1 #i‚de‡
__LIBSC_TIMER_H__


2 
	#__LIBSC_TIMER_H__


	)

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

8 
	~<f˙é.h
>

9 
	~<sys/ty≥s.h
>

10 
	~<sys/°©.h
>

11 
	~<sig«l.h
>

12 
	~<±hªad.h
>

13 
	~<£m≠h‹e.h
>

14 
	~<°dboﬁ.h
>

15 
	~<sys/sysöfo.h
>

16 
	~<sys/î∫o.h
>

17 
	~<sys/waô.h
>

18 
	~<sys/£À˘.h
>

19 
	~<gë›t.h
>

20 
	~<time.h
>

22 
	#TIMER_ACCURACY
 100

	)

32 
	stimî
 {

39 
	mi
;

40 
	mc
;

41 *
	mp
;

47 
timî_im∂
 *
	mim∂
;

48 }
	ttimî
;

60 (*
	ttimî_cb
)(
	ttimî
 *
	ttm
);

65 
	stimî_im∂
 {

69 
a˘ive
;

74 
ª≥©
;

79 
dñëe
;

84 
time_r
;

89 
time_b
;

94 
timî_cb
 
cb
;

99 
±hªad_t
 
thªad
;

100 }
	ttimî_im∂_t
;

110 
timî
 * 
	`timî_¸ót
(
tm_ms
, 
timî_cb
 
cb
, 
boﬁ
 
ª≥©
);

117 
	`timî_°¨t
(
timî
 *timer);

124 
	`timî_°›
(
timî
 *timer);

131 
	`timî_de°roy
(
timî
 *timer);

138 
	`timî_ª£t
(
timî
 *timer);

	@tt.h

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<uni°d.h
>

	@
1
.
0
21
278
cfg.h
dir.h
libsc_timer.h
macro.h
print.h
proc.h
sock.h
socket/socket_app.h
socket/socket_base.h
socket/socket_event.h
socket/socket_header.h
socket/socket_property.h
socket_app.h
socket_base.h
socket_event.h
socket_header.h
socket_msg.h
socket_property.h
thread.h
timer.h
tt.h
