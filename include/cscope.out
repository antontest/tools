cscope 15 $HOME/tools/include -q 0000000520 0000024123
	@cfg.h

1 #iâdeà
__CFG_H__


2 
	#__CFG_H__


	)

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<uni¡d.h
>

8 
	~<fú.h
>

9 
	~<sys/ty³s.h
>

10 
	~<sys/¡©.h
>

11 
	~<sigÇl.h
>

12 
	~<±h»ad.h
>

13 
	~<£m­hÜe.h
>

14 
	~<¡dboŞ.h
>

15 
	~<sys/sysšfo.h
>

16 
	~<sys/”ºo.h
>

17 
	~<sys/wa™.h
>

18 
	~<sys/£Ëù.h
>

19 
	~<g‘İt.h
>

20 
	~<time.h
>

27 
l_Œim
(*
s
);

34 
r_Œim
(*
s
);

42 
mid_Œim
(*
s
);

49 
a_Œim
(*
s
);

61 
cfg_lše_¥l™
(*
lše
, cÚ¡ *
¥l™
, **
Çme
, **
v®ue
);

73 
cfg_v®ue_gaš
(cÚ¡ *
key_Çme
, cÚ¡ *
¥l™
, 
v®ue
[], cÚ¡ *
·th
) ;

85 
cfg_v®ue_£t
(cÚ¡ *
key_Çme
, cÚ¡ *
¥l™
, cÚ¡ *
v®ue
, cÚ¡ *
·th
);

97 
ši_v®ue_gaš
(cÚ¡ *
­p_Çme
, cÚ¡ *
key_Çme
, 
v®ue
[], cÚ¡ *
·th
);

109 
ši_v®ue_£t
(cÚ¡ *
­p_Çme
, cÚ¡ *
key_Çme
, cÚ¡ *
v®ue
, cÚ¡ *
·th
);

	@dir.h

1 #iâdeà
__DIR_H__


2 
	#_DIR_H__


	)

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<uni¡d.h
>

8 
	~<fú.h
>

9 
	~<sys/ty³s.h
>

10 
	~<sys/¡©.h
>

11 
	~<sigÇl.h
>

12 
	~<£m­hÜe.h
>

13 
	~<¡dboŞ.h
>

14 
	~<sys/sysšfo.h
>

15 
	~<sys/”ºo.h
>

16 
	~<sys/wa™.h
>

17 
	~<sys/£Ëù.h
>

18 
	~<g‘İt.h
>

19 
	~<time.h
>

20 
	~<dœ’t.h
>

22 
	efe_ty³
 {

23 
	mF_UNKNOWN
 = -1,

24 
	mF_REG
 = 0 ,

25 
	mF_DIR
 ,

26 
	mF_CHR
 ,

27 
	mF_BLK
 ,

28 
	mF_FIFO
 ,

29 
	mF_LNK
 ,

30 
	mF_SOCK


31 } 
	tfe_ty³
;

40 
fe_ty³
 
g‘_fe_ty³
(cÚ¡ *
·thÇme
);

49 
g‘_dœ_size
(cÚ¡ *
·thÇme
);

58 
g‘_fe_size
(cÚ¡ *
·thÇme
);

67 
fe_is_exi¡
(cÚ¡ *
·thÇme
);

74 
´št_dœ
(cÚ¡ *
·thÇme
);

84 
make_dœ
(*
·thÇme
, 
mode_t
 
mode
);

93 
»move_dœ
(cÚ¡ *
·thÇme
);

102 
»move_fe
(cÚ¡ *
·thÇme
);

112 
d‘eù_³rmissiÚ
(cÚ¡ *
·th
, cÚ¡ *
³rmissiÚ
);

123 *
ba£Çme
(*
·th
, *
Çme
, 
size
);

134 *
dœÇme
(*
·th
, *
Çme
, 
size
);

	@macro.h

5 #iâdeà
maüo_to_¡r


6 
	#maüo_to_¡r
(
x
è#x

	)

9 #iâdeà
maüo_ÿt


10 
	#maüo_ÿt
(
a
, 
b
èa##
	)
b

13 #iâdeà
func_Çme


14 
	#func_Çme
 
__func__


	)

17 #iâdeà
lše_num


18 
	#lše_num
 
__LINE__


	)

21 #iâdeà
debug_”rÜ


22 
	#debug_”rÜ
(...) \

24 
	`årštf
(
¡d”r
, "\033[1;35m[ Function %s ] [†ine %d ] \033[0m", \

25 
func_Çme
, 
lše_num
); \

26 
	`årštf
(
¡d”r
, ##
__VA_ARGS__
); \

27 
	`årštf
(
¡d”r
, "\n"); \

28 } 0);

	)

31 #iâdeà
debug_šfo


32 
	#debug_šfo
(...) \

34 
	`årštf
(
¡dout
, "\033[1;35m"); \

35 
	`årštf
(
¡dout
, ##
__VA_ARGS__
); \

36 
	`årštf
(
¡dout
, "\n\033[0;0m"); \

37 } 0);

	)

40 #iâdeà
off£t_of


41 
	#off£t_of
(
ty³
, 
memb”
è(()&((Ñy³ *)0)->memb”))

	)

44 #iâdeà
cÚš”_of


45 
	#cÚš”_of
(
±r
, 
ty³
, 
memb”
) ({\

46 cÚ¡ 
	`ty³of
(((
ty³
 *)0)->
memb”
è*
_m±r
 = 
±r
; \

47 (
ty³
 *)((*)
_m±r
 - 
	`off£t_of
Ñy³, 
memb”
));})

	)

50 #iâdeà
sw­


51 
	#sw­
(
a
, 
b
è{‡ =‡ ^ b; b =‡ ^ b;‡ =‡ ^ b; }

	)

54 #iâdeà
¬r_size


55 
	#¬r_size
(
a
èĞ×è/ ×[0]è)

	)

	@print.h

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<uni¡d.h
>

8 
	~<¡d¬g.h
>

10 #iâdeà
debug_”rÜ


11 
	#debug_”rÜ
(...) \

13 
	`årštf
(
¡d”r
, "\033[1;31m[%s() %d] \033[0m", \

14 
__func__
, 
__LINE__
); \

15 
	`årštf
(
¡d”r
, ##
__VA_ARGS__
); \

16 
	`årštf
(
¡d”r
, "\n"); \

17 } 0);

	)

20 #iâdeà
debug_šfo


21 
	#debug_šfo
(...) \

23 
	`årštf
(
¡dout
, "\033[1;35m[%s() %d] \033[0m", \

24 
__func__
, 
__LINE__
); \

25 
	`årštf
(
¡dout
, ##
__VA_ARGS__
); \

26 
	`årštf
(
¡dout
, "\n\033[0;0m"); \

27 } 0);

	)

30 #iâdeà
cŞÜ


31 
	#cŞÜ
(
cŞÜ_num
è"\033[0;"#cŞÜ_num"m"

	)

33 #iâdeà
cŞÜ_’d


34 
	#cŞÜ_’d
 "\033[0m"

	)

	@proc.h

1 #iâdeà
__PROC_H__


2 
	#__PROC_H__


	)

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<uni¡d.h
>

8 
	~<sys/wa™.h
>

9 
	~<sys/ty³s.h
>

10 
	~<dœ’t.h
>

11 
	~<”ºo.h
>

12 
	~<¡d¬g.h
>

13 
	~<fú.h
>

26 
cmd_exec
(cÚ¡ *
cmd
, *
pid
);

37 
g‘_sh–l_»tuº
(cÚ¡ *
cmd
, *
»suÉ
, 
size
);

48 
g‘_sh–l_»suÉ
(cÚ¡ *
cmd
, *
»suÉ
, 
size
);

57 
g‘_µid
(
pid_t
 
pid
);

66 
g‘_pid_by_Çme
(cÚ¡ *
´oc_Çme
);

75 
g‘_id_by_Çme
(cÚ¡ *
Çme
);

86 
g‘_´oc_Çme_by_pid
(
pid_t
 
pid
, *
´oc_Çme
, 
size
);

97 
g‘_Çme_by_pid
(
pid_t
 
pid
, *
Çme
, 
size
);

106 
check_´oc_unique
(cÚ¡ *
Çme
);

116 
is_´oc_unique
(cÚ¡ *
´oc_Çme
);

127 
g‘_exe_·th_by_pid
(
pid_t
 
pid
, *
·th
, 
size
);

139 
g‘_fe_·th
(
fd
, 
pid
, *
·th
, 
size
);

150 
g‘_cmdlše
(
pid
, *
cmdlše
, 
size
);

160 
SYSTEM
(cÚ¡ *
fÜm©
, ...);

	@sock.h

1 #iâdeà
__SOCK_H__


2 
	#__SOCK_H__


	)

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<uni¡d.h
>

8 
	~<fú.h
>

9 
	~<sys/ty³s.h
>

10 
	~<±h»ad.h
>

11 
	~<¡dboŞ.h
>

12 
	~<sys/sysšfo.h
>

13 
	~<sys/”ºo.h
>

14 
	~<sys/£Ëù.h
>

15 
	~<sys/sock‘.h
>

16 
	~<sys/ioùl.h
>

17 
	~<Ãtš‘/š.h
>

18 
	~<¬·/š‘.h
>

19 
	~<Ãtdb.h
>

20 
	~<içddrs.h
>

21 
	~<sys/un.h
>

22 
	~<Ãtš‘/tı.h
>

28 
	#MAX_CLIENT_NUM
 10

	)

29 
	#DFT_STRING_SIZE
 128

	)

30 
	#SOCKET_DATA_SIZE
 (
sock‘_d©a
)

	)

31 
	#SOCKET_DATA_HEADER_SIZE
 (()&(((
sock‘_d©a
 *)0)->
v®ue
))

	)

32 #iâdeà
MACRO_STR


33 
	#MACRO_STR
(
x
è{x, #x}

	)

39 
sock‘
 
	tsock‘_t
;

40 (*
	tev’t_cb
)(
	tfd
, *
	t¬g
);

41 * (*
	tth»ad_ruÁše
)(*
	t¬g
);

47 
	eev’t_ty³


49 
SOCKET_ON_ACCEPT
 = 1,

50 
SOCKET_ON_CONNECT
 = 2,

51 
SOCKET_ON_RECV
 = 4,

52 
SOCKET_ON_SEND
 = 8,

53 
SOCKET_ON_CLOSE
 = 16

54 } 
	tev’t_ty³_t
;

56 
	esock‘_d©a_ty³


58 
INT
 = 0,

59 
STRING
 ,

60 
CMD


61 } 
	tsock‘_d©a_ty³
;

74 
	sÿÎback


79 
ev’t_cb
 
evt_cb
;

84 *
¬g
;

85 } 
	tÿÎback
;

94 
	sev’t_loİ


99 
ev’t_ty³_t
 
evt
;

108 
ÿÎback
 
Ú_acû±
;

113 
ÿÎback
 
Ú_cÚÃù
;

118 
ÿÎback
 
Ú_£nd
;

123 
ÿÎback
 
Ú_»cv
;

128 
ÿÎback
 
Ú_şo£
;

129 } 
	tev’t_loİ_t
;

139 
	ssock‘_d©a


144 
sock‘_d©a_ty³
 
ty³
;

149 
size
;

155 
i
;

156 
s
[0];

157 *
p
;

158 } 
v®ue
;

159 } 
	tsock‘_d©a_t
;

172 
	ssock‘


177 
fd
;

182 
şi_fd
[
MAX_CLIENT_NUM
];

187 
±h»ad_t
 
±d
;

192 
ev’t_loİ_t
 
evl
;

197 
sock‘_d©a_t
 
d©a
;

202 
sockaddr_š
 
addr
;

212 
	ssock‘_ty³
 {

216 
ty³_maüo
;

221 *
ty³_Çme
;

222 } 
sock‘_ty³
[] = {

223 
	`MACRO_STR
(
SOCK_STREAM
) ,

224 
	`MACRO_STR
(
SOCK_DGRAM
) ,

225 
	`MACRO_STR
(
SOCK_RAW
) ,

226 
	`MACRO_STR
(
SOCK_RDM
) ,

227 
	`MACRO_STR
(
SOCK_SEQPACKET
) ,

228 
	`MACRO_STR
(
SOCK_PACKET
) ,

229 {-1, 
NULL
}

230 
	}
};

244 
sock‘_ü—‹
(
domaš
, 
ty³
);

255 
sock‘_addr_š™
(*
addr
, 
domaš
, 
u_shÜt
 
pÜt
, cÚ¡ *

);

265 
sock‘_bšd
(
fd
, *
addr
);

275 
sock‘_li¡’
(
fd
, 
backlog
);

288 
sock‘_¡¬tup
(
domaš
, 
ty³
, *
addr
, 
u_shÜt
 
pÜt
, \

289 cÚ¡ *

, 
is_£r
);

299 
sock‘_acû±
(
fd
);

309 
sock‘_cÚÃù
(
fd
, *
şi_addr
);

320 
sock‘_time_cÚÃù
(
fd
, *
şi_addr
, 
tm_ms
);

329 
sock‘_şo£
(
fd
);

344 
sock‘_£nd
(
fd
, *
buf
, 
size
);

356 
sock‘_time_£nd
(
fd
, *
buf
, 
size
, 
time_ms
);

368 
sock‘_d©a_£nd
(
fd
, 
sock‘_d©a_ty³
 
ty³
, *
buf
, 
size
);

385 
sock‘_£ndto
(
fd
, *
buf
, 
size
, cÚ¡ *

, 
pÜt
);

397 
sock‘_addr_£ndto
(
fd
, *
buf
, 
size
, *
addr
);

411 
sock‘_d©a_£ndto
(
fd
, 
sock‘_d©a_ty³
 
ty³
, \

412 *
buf
, 
size
, cÚ¡ *

, 
pÜt
);

425 
sock‘_addr_d©a_£ndto
(
fd
, 
sock‘_d©a_ty³
 
ty³
, \

426 *
buf
, 
size
, *
addr
);

441 
sock‘_»cv
(
fd
, *
buf
, 
size
);

453 
sock‘_time_»cv
(
fd
, *
buf
, 
size
, 
time_ms
);

465 
sock‘_d©a_»cv
(
fd
, 
sock‘_d©a_ty³
 *
ty³
, \

466 *
buf
, 
size
);

479 
sock‘_d©a_time_»cv
(
fd
, 
sock‘_d©a_ty³
 *
ty³
, \

480 *
buf
, 
size
, 
time_ms
);

496 
udp_sock‘_d©a_»cv
(
fd
, 
sock‘_d©a_ty³
 *
ty³
, \

497 *
buf
, 
size
);

510 
sock‘_»cväom
(
fd
, *
buf
, 
size
, cÚ¡ *

, 
pÜt
);

522 
sock‘_addr_»cväom
(
fd
, *
buf
, 
size
, *
addr
);

536 
sock‘_d©a_»cväom
(
fd
, 
sock‘_d©a_ty³
 *
ty³
, \

537 *
buf
, 
size
, cÚ¡ *

, 
pÜt
);

550 
sock‘_addr_d©a_»cväom
(
fd
, 
sock‘_d©a_ty³
 *
ty³
, \

551 *
buf
, 
size
, *
addr
);

562 
sock‘_ev’t_š™
(
ev’t_loİ_t
 *
evl
);

572 
sock‘_ev’t_add
(
ev’t_loİ_t
 *
evl
, 
ev’t_ty³_t
 
evt
, 
ev’t_cb
 
cb
, *
¬g
);

580 
sock‘_ev’t_d–‘e
(
ev’t_loİ_t
 *
evl
, 
ev’t_ty³_t
 
evt
);

587 
sock‘_ev’t_ş—¿Î
(
ev’t_loİ_t
 *
evl
);

595 
sock‘_ev’t_´oûss
(
fd
, 
ÿÎback
 
cb
);

608 
g‘_loÿl_
(

[]);

617 
g‘_ÿn_»ad_by‹s
(
fd
);

626 
make_sock‘_nÚblock
(
fd
);

635 
make_sock‘_block
(
fd
);

644 
make_li¡’_sock‘_»u£abË
(
fd
);

653 
make_sock‘_k“p_®ive
(
fd
);

662 
make_sock‘_şo£Ãxec
(
fd
);

672 
£t_sock‘_»cv_buf
(
fd
, 
buf_size
);

682 
£t_sock‘_£nd_buf
(
fd
, 
buf_size
);

691 
g‘_sock‘_»cv_buf
(
fd
);

700 
g‘_sock‘_£nd_buf
(
fd
);

711 
make_sock‘_şo£_aùiÚ
(
fd
, 
is_Ú
, 
tm_s
);

721 
make_sock‘_brßdÿ¡
(
fd
, 
Ú
);

731 
make_sock‘_muÉiÿ¡_loİ
(
fd
, 
Ú
);

741 
make_sock‘_muÉiÿ¡_‰l
(
fd
, 
‰l
);

751 
add_sock‘_to_memb”sh
(
fd
, 
_m»q
 *
mrq
);

761 
drİ_sock‘_äom_memb”sh
(
fd
, 
_m»q
 *
mrq
);

770 
g‘_sock‘_£nd_timeout
(
fd
);

779 
g‘_sock‘_»cv_timeout
(
fd
);

789 
make_sock‘_£nd_timeout
(
fd
, 
tm_ms
);

799 
make_sock‘_»cv_timeout
(
fd
, 
tm_ms
);

808 
g‘_sock‘_ty³
(
fd
);

817 * 
g‘_sock‘_ty³_¡r
(
fd
);

824 
is_big_’dŸn
();

843 
£rv”_ü—‹
(
sock‘
 *
sck
, 
domaš
, 
ty³
, \

844 
u_shÜt
 
pÜt
, cÚ¡ *

);

851 
£rv”_¡İ
(
sock‘
 *
sck
);

865 
ş›Á_cÚÃù
(
sock‘
 *
sck
, 
domaš
, 
ty³
, \

866 cÚ¡ *

, 
u_shÜt
 
pÜt
);

881 
ş›Á_time_cÚÃù
(
sock‘
 *
sck
, 
domaš
, 
ty³
, \

882 cÚ¡ *

, 
u_shÜt
 
pÜt
, 
tm_ms
);

899 
udp_brßdÿ¡_£nd
(cÚ¡ *
ÿ¡_
, 
pÜt
, 
ÿ¡_times
,\

900 cÚ¡ *
ÿ¡_šfo
);

913 
udp_brßdÿ¡_»cv
(cÚ¡ *
ÿ¡_
, 
pÜt
, 
ÿ¡_times
,\

914 **
ÿ¡_šfo
, 
size
);

930 
udp_muÉiÿ¡_£nd
(cÚ¡ *
ÿ¡_
, 
pÜt
, 
ÿ¡_times
,\

931 cÚ¡ *
ÿ¡_šfo
);

944 
udp_muÉiÿ¡_»cv
(cÚ¡ *
ÿ¡_
, 
pÜt
, 
ÿ¡_times
,\

945 **
ÿ¡_šfo
, 
size
);

	@socket/socket_app.h

1 #iâdeà
__SOCKET_APP_H__


2 
	#__SOCKET_APP_H__


	)

4 #iâdeà
__SOCKET_BASE_H__


5 
	~"sock‘_ba£.h
"

8 #iâdeà
__SOCKET_PROPERTY_H__


9 
	~"sock‘_´İ”ty.h
"

12 #iâdeà
__SOCKET_EVENT_H__


13 
	~"sock‘_ev’t.h
"

16 #iâdeà
__SOCKET_HEADER_H__


17 
	#__SOCKET_HEADER_H__


	)

18 
	~"sock‘_h—d”.h
"

21 
	~<±h»ad.h
>

22 
	~<Ãack‘/·ck‘.h
>

23 
	~<sys/sock‘.h
>

24 
	~<lšux/Ãšk.h
>

25 
	~<lšux/¹Ãšk.h
>

26 
	~<Ãtš‘/sùp.h
>

27 
	~<Ãt/if.h
>

28 
	~<Ãt/if_¬p.h
>

29 
	~<pÿp.h
>

34 
	#MAX_CLIENT_NUM
 10

	)

35 
	#DFT_STRING_SIZE
 128

	)

36 
	#SOCKET_DATA_SIZE
 (
sock‘_d©a
)

	)

37 
	#SOCKET_DATA_HEADER_SIZE
 (()&(((
sock‘_d©a
 *)0)->
v®ue
))

	)

42 * (*
	tth»ad_ruÁše
)(*
	t¬g
);

55 
	ssock‘_im¶


60 
	mfd
;

65 
	mşi_fd
[
MAX_CLIENT_NUM
];

66 
	mcu¼_şi_fd
;

71 
±h»ad_t
 
	m±d
;

76 
ev’t_loİ_t
 
	mevl
;

82 
sockaddr_š
 
	mš_addr
;

83 
sockaddr_un
 
	mun_addr
;

84 
sockaddr
 
	maddr
;

85 } 
	maddr
;

90 
	mbody
[0];

91 } 
	tsock‘_im¶_t
;

106 
udp_brßdÿ¡_£nd
(cÚ¡ *
ÿ¡_
, 
pÜt
, 
ÿ¡_times
,\

107 cÚ¡ *
ÿ¡_šfo
);

120 
udp_brßdÿ¡_»cv
(cÚ¡ *
ÿ¡_
, 
pÜt
, 
ÿ¡_times
,\

121 *
ÿ¡_šfo
, 
size
);

137 
udp_muÉiÿ¡_£nd
(cÚ¡ *
ÿ¡_
, 
pÜt
, 
ÿ¡_times
,\

138 cÚ¡ *
ÿ¡_šfo
);

151 
udp_muÉiÿ¡_»cv
(cÚ¡ *
ÿ¡_
, 
pÜt
, 
ÿ¡_times
,\

152 *
ÿ¡_šfo
, 
size
);

167 
š‘_£rv”_ü—‹
(
sock‘_im¶
 *
sck
, 
ty³
, \

168 cÚ¡ *

, 
u_shÜt
 
pÜt
);

181 
loÿl_£rv”_ü—‹
(
sock‘_im¶
 *
sck
, 
ty³
, cÚ¡ *
·th
);

188 
£rv”_¡İ
(
sock‘_im¶
 *
sck
);

200 
š‘_ş›Á_cÚÃù
(
sock‘_im¶
 *
sck
, 
ty³
, \

201 cÚ¡ *

, 
u_shÜt
 
pÜt
);

212 
loÿl_ş›Á_cÚÃù
(
sock‘_im¶
 *
sck
, 
ty³
, cÚ¡ *
·th
);

225 
š‘_ş›Á_time_cÚÃù
(
sock‘_im¶
 *
sck
, 
ty³
, \

226 cÚ¡ *

, 
u_shÜt
 
pÜt
, 
tm_ms
);

238 
loÿl_ş›Á_time_cÚÃù
(
sock‘_im¶
 *
sck
, 
ty³
, cÚ¡ *
·th
, 
tm_ms
);

245 
¿w_sock‘_š™
();

247 
·r£_‘h”_h—d
(*
d©a
, 
dho¡
[6], \

248 
sho¡
[6], *
´Ùo_ty³
);

250 
·r£_icmp_h—d
(*
d©a
, *
ty³
, *
code
);

252 
·r£_pšg
(*
d©a
);

266 
sùp_£rv”_ü—‹
(
sock‘_im¶
 *
sck
, cÚ¡ *

, 
pÜt
);

277 
sùp_ş›Á_cÚÃù
(
sock‘_im¶
 *
sck
, cÚ¡ *

, 
pÜt
);

292 
lšk¡©d
((*
lšk_up
)(cÚ¡ *
iâame
), (*
lšk_down
)(const *ifname));

	@socket/socket_arp.h

1 #iâdeà
__SOCKET_ARP_H__


2 
	#__SOCKET_ARP_H__


	)

4 #iâdeà
__SOCKET_HEADER_H__


5 
	#__SOCKET_HEADER_H__


	)

6 
	~"sock‘_h—d”.h
"

8 
	~"sock‘_´İ”ty.h
"

9 
	~<±h»ad.h
>

10 
	~<Ãack‘/·ck‘.h
>

11 
	~<sys/sock‘.h
>

12 
	~<lšux/Ãšk.h
>

13 
	~<lšux/¹Ãšk.h
>

14 
	~<Ãtš‘/sùp.h
>

15 
	~<Ãt/if.h
>

16 
	~<Ãt/if_¬p.h
>

17 
	~<pÿp.h
>

19 
	spÿp_šfo
 {

20 
	mfd
;

21 
	m©ck_
[4];

22 
	m©ck_mac
[6];

23 
	mloÿl_
[4];

24 
	mloÿl_mac
[6];

25 
	miâame
[20];

26 
	mg©eway_
[4];

28 
š_addr
 
	mš_addr
;

29 
sockaddr
 
	maddr
;

30 
sockaddr_š
 
	maddr_š
;

31 
sockaddr_Î
 
	maddr_Î
;

32 } 
	maddr
;

33 * 
	m´Ùo
;

34 
pÿp_hªdËr
 
	mcb
;

35 * 
	mcb_¬g
;

49 
¬p_»que¡_·ckage
(
äame_¬p
 *
äame
, 
¤c_
[4],

50 
¤c_mac
[6], 
d¡_
[4]);

61 
¬p_»¶y_·ckage
(
äame_¬p
 *
äame
, 
¤c_
[4],

62 
¤c_mac
[6], 
d¡_
[4], 
d¡_mac
[6]);

75 
¬p_»que¡_£nd
(
fd
, 
sockaddr
 *
addr
, 
d¡_
[4],

76 
¤c_
[4], 
¤c_mac
[6]);

90 
¬p_»¶y_£nd
(
fd
, 
sockaddr
 *
addr
, 
d¡_
[4], 
d¡_mac
[6],

91 
¤c_
[4], 
¤c_mac
[6]);

100 * 
pÿp_li¡’
(*
¬g
);

111 
¬p_ch—t
(cÚ¡ *
iâame
, cÚ¡ *
©ck_
,

112 cÚ¡ *
g©eway_
);

121 
¬p_ch—tšg
(*
d¡
);

123 
rou‹r_šfo
(*
šfo
);

	@socket/socket_base.h

1 #iâdeà
__SOCKET_BASE_H__


2 
	#__SOCKET_BASE_H__


	)

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<uni¡d.h
>

8 
	~<sys/”ºo.h
>

9 
	~<sys/ty³s.h
>

10 
	~<sys/un.h
>

11 
	~<sys/sock‘.h
>

12 
	~<Ãtš‘/š.h
>

13 
	~<Ãtš‘/tı.h
>

14 
	~<Ãtš‘/sùp.h
>

15 
	~<fú.h
>

16 
	~<sys/ioùl.h
>

17 
	~<¬·/š‘.h
>

31 
sock‘_ü—‹
(
domaš
, 
ty³
, 
´ÙocŞ
);

40 
š‘_addr_š™
(
sockaddr_š
 *
addr
, cÚ¡ *

, 
u_shÜt
 
pÜt
);

48 
loÿl_addr_š™
(
sockaddr_un
 *
addr
, cÚ¡ *
·th
);

58 
sock‘_bšd
(
fd
, 
sockaddr
 *
addr
);

68 
sock‘_li¡’
(
fd
, 
backlog
);

81 
¡¬tup_š‘_£rv”
(
ty³
, cÚ¡ *

, \

82 
u_shÜt
 
pÜt
);

95 
¡¬tup_š‘_ş›Á
(
ty³
, 
sockaddr_š
 *
addr
, \

96 cÚ¡ *

, 
u_shÜt
 
pÜt
);

109 
¡¬tup_loÿl_£rv”
(
ty³
, cÚ¡ *
·th
);

120 
¡¬tup_loÿl_ş›Á
(
ty³
, 
sockaddr_un
 *
addr
, cÚ¡ *
·th
);

130 
sock‘_acû±
(
fd
);

140 
sock‘_cÚÃù
(
fd
, *
şi_addr
);

151 
sock‘_time_cÚÃù
(
fd
, *
şi_addr
, 
tm_ms
);

160 
sock‘_şo£
(
fd
);

175 
sock‘_£nd
(
fd
, *
buf
, 
size
);

187 
sock‘_time_£nd
(
fd
, *
buf
, 
size
, 
time_ms
);

204 
sock‘_£ndto
(
fd
, *
buf
, 
size
, cÚ¡ *

, 
pÜt
);

216 
sock‘_addr_£ndto
(
fd
, *
buf
, 
size
, *
addr
);

232 
sock‘_»cv
(
fd
, *
buf
, 
size
);

244 
sock‘_time_»cv
(
fd
, *
buf
, 
size
, 
time_ms
);

262 
sock‘_»cväom
(
fd
, *
buf
, 
size
, cÚ¡ *

, 
pÜt
);

274 
sock‘_addr_»cväom
(
fd
, *
buf
, 
size
, *
addr
);

	@socket/socket_event.h

1 #iâdeà
__SOCKET_EVENT_H__


2 
	#__SOCKET_EVENT_H__


	)

4 #iâdeà
__SOCKET_BASE_H__


5 
	~<sock‘_ba£.h
>

11 (*
	tev’t_cb
)(
	tfd
, *
	t¬g
);

16 
	eev’t_ty³


18 
SOCKET_ON_ACCEPT
 = 1,

19 
SOCKET_ON_CONNECT
 = 2,

20 
SOCKET_ON_RECV
 = 4,

21 
SOCKET_ON_SEND
 = 8,

22 
SOCKET_ON_CLOSE
 = 16

23 } 
	tev’t_ty³_t
;

35 
	sÿÎ_back


40 
ev’t_cb
 
evt_cb
;

45 *
¬g
;

46 } 
	tÿÎ_back_t
;

55 
	sev’t_loİ


64 
ÿÎ_back
 
Ú_acû±
;

69 
ÿÎ_back
 
Ú_cÚÃù
;

74 
ÿÎ_back
 
Ú_£nd
;

79 
ÿÎ_back
 
Ú_»cv
;

84 
ÿÎ_back
 
Ú_şo£
;

85 } 
	tev’t_loİ_t
;

95 
	`sock‘_ev’t_š™
(
ev’t_loİ_t
 *
evl
);

105 
	`sock‘_ev’t_add
(
ev’t_loİ_t
 *
evl
, 
ev’t_ty³_t
 
evt
, 
ev’t_cb
 
cb
, *
¬g
);

113 
	`sock‘_ev’t_d–‘e
(
ev’t_loİ_t
 *
evl
, 
ev’t_ty³_t
 
evt
);

120 
	`sock‘_ev’t_ş—¿Î
(
ev’t_loİ_t
 *
evl
);

128 
	`sock‘_ev’t_´oûss
(
fd
, 
ÿÎ_back
 
cb
);

	@socket/socket_header.h

1 #iâdeà
__SOCKET_HEADER__


2 
	#__SOCKET_HEADER__


	)

4 #iâdeà
__LITTLE_ENDIAN


5 
	#__LITTLE_ENDIAN
 0x01

	)

8 #iâdeà
__BIG_ENDIAN


9 
	#__BIG_ENDIAN
 0x02

	)

12 #iâdeà
__BYTE_ORDER


13 
	#__BYTE_ORDER
 (0x0201 & 0xff)

	)

24 #iâdeà
ETHER_HDR


25 
	#ETHER_HDR


	)

26 
	s‘h”_hdr
 {

27 
	md¡_mac
[6];

28 
	m¤c_mac
[6];

29 
	m´Ùo_ty³
;

30 } 
__©Œibu‹__
 ((
__·cked__
));

33 #iâdeà
ICMP_HDR


34 
	#ICMP_HDR


	)

35 
	sicmp_hdr
 {

36 
	mi_ty³
;

37 
	mi_code
;

38 
	mi_cksum
;

39 } 
__©Œibu‹__
 ((
__·cked__
));

42 #iâdeà
PING_HDR


43 
	#PING_HDR


	)

44 
	spšg_hdr
 {

45 
	mi_id
;

46 
	mi_£q
;

47 } 
__©Œibu‹__
 ((
__·cked__
));

50 #iâdeà
FRAME_HDR


51 
	#FRAME_HDR


	)

53 
	säame_hdr
 {

54 
	md¡_mac
[6];

55 
	m¤c_mac
[6];

56 
	m´ÙocŞ
;

60 #iâdeà
ARP_HDR


61 
	#ARP_HDR


	)

63 
	s¬p_hdr


65 
	m¬_hrd
;

66 
	m¬_´o
;

67 
	m¬_hÊ
;

68 
	m¬_¶n
;

69 
	m¬_İ
;

70 
	m¤c_mac
[6];

71 
	m¤c_
[4];

72 
	md¡_mac
[6];

73 
	md¡_
[4];

86 #iâdeà
IP_HDR


87 
	#IP_HDR


	)

89 
	s_hdr


91 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


92 
	mihl
:4;

93 
	mv”siÚ
:4;

94 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


95 
	mv”siÚ
:4;

96 
	mihl
:4;

100 
	mtos
;

101 
	mtÙ_Ën
;

102 
	mid
;

103 
	mäag_off
;

104 
	m‰l
;

105 
	m´ÙocŞ
;

106 
	mcheck
;

107 
	m¤c_
[4];

108 
	md¡_
[4];

112 #iâdeà
UDP_HDR


113 
	#UDP_HDR


	)

115 
	sudp_hdr
 {

116 
	m¤c_pÜt
;

117 
	md¡_pÜt
;

118 
	mËn
;

119 
	mcheck
;

123 #iâdeà
TCP_HDR


124 
	#TCP_HDR


	)

126 
	stı_hdr
 {

127 
	m¤c_pÜt
;

128 
	md¡_pÜt
;

129 
	m£q
;

130 
	mack
;

131 
	moff
;

132 
	mæags
;

133 
	mwš
;

134 
	mcheck
;

135 
	murg
;

139 #iâdeà
FRAME_ARP


140 
	#FRAME_ARP


	)

142 
	säame_¬p
 {

143 
äame_hdr
 
	mfh
;

144 
¬p_hdr
 
	mah
;

148 #iâdeà
FRAME_UDP


149 
	#FRAME_UDP


	)

151 
	säame_udp
 {

152 
äame_hdr
 
	mfh
;

153 
_hdr
 
	mih
;

154 
udp_hdr
 
	muh
;

158 #iâdeà
FRAME_TCP


159 
	#FRAME_TCP


	)

161 
	säame_tı
 {

162 
äame_hdr
 
	mfh
;

163 
_hdr
 
	mih
;

164 
tı_hdr
 
	mth
;

168 #iâdeà
FRAME_IP


169 
	#FRAME_IP


	)

170 
	säame_
 {

171 
äame_hdr
 
	mfh
;

172 
_hdr
 
	mih
;

174 
udp_hdr
 
	muh
;

175 
tı_hdr
 
	mth
;

176 } 
	m´Ùo
;

177 *
	md©a
;

181 #iâdeà
HDR_ETHER_SIZE


182 
	#HDR_ETHER_SIZE
 (
äame_dhr
)

	)

185 #iâdeà
HDR_ARP_SIZE


186 
	#HDR_ARP_SIZE
 (
¬p_dhr
)

	)

189 #iâdeà
HDR_IP_SIZE


190 
	#HDR_FRAME_IP_SIZE
 (
_hdr
)

	)

193 #iâdeà
HDR_UDP_SIZE


194 
	#HDR_UDP_SIZE
 (
udp_hdr
)

	)

197 #iâdeà
FRAME_ARP_SIZE


198 
	#FRAME_ARP_SIZE
 (
äame_¬p
)

	)

201 #iâdeà
FRAME_UDP_SIZE


202 
	#FRAME_UDP_SIZE
 (
äame_udp
)

	)

205 #iâdeà
FRAME_TCP_SIZE


206 
	#FRAME_TCP_SIZE
 (
äame_tı
)

	)

	@socket/socket_property.h

1 #iâdeà
__SOCKET_PROPERTY_H__


2 
	#__SOCKET_PROPERTY_H__


	)

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<uni¡d.h
>

8 
	~<fú.h
>

9 
	~<sys/”ºo.h
>

10 
	~<sys/sysšfo.h
>

11 
	~<sys/ty³s.h
>

12 
	~<sys/sock‘.h
>

13 
	~<sys/ioùl.h
>

14 
	~<Ãtš‘/š.h
>

15 
	~<¬·/š‘.h
>

16 
	~<Ãtdb.h
>

17 
	~<içddrs.h
>

18 
	~<sys/un.h
>

19 
	~<Ãt/if.h
>

20 
	~<Ãt/if_¬p.h
>

21 
	~<lšux/if_‘h”.h
>

22 
	~<lšux/sockios.h
>

23 
	~<Ãtš‘/tı.h
>

24 
	~<Ãtš‘/sùp.h
>

25 
	~<lšux/¹Ãšk.h
>

26 
	~<Ãack‘/·ck‘.h
>

27 
	~<¡d¬g.h
>

28 
	~"sock‘_h—d”.h
"

33 #iâdeà
MACRO_STR


34 
	#MACRO_STR
(
x
è{x, #x}

	)

37 #iâdeà
SIOCETHTOOL


38 
	#SIOCETHTOOL
 0x8946

	)

41 
	#ETHTOOL_GSET
 0x00000001

	)

42 
	#ETHTOOL_SSET
 0x00000002

	)

45 
	#SPEED_10
 10

	)

46 
	#SPEED_100
 100

	)

47 
	#SPEED_1000
 1000

	)

48 
	#SPEED_2500
 2500

	)

49 
	#SPEED_10000
 10000

	)

52 
	s‘htoŞ_cmd
 {

53 
__u32
 
	mcmd
;

54 
__u32
 
	msuµÜ‹d
;

55 
__u32
 
	madv”tisšg
;

56 
__u16
 
	m¥“d
;

57 
__u8
 
	mdu¶ex
;

58 
__u8
 
	mpÜt
;

59 
__u8
 
	mphy_add»ss
;

60 
__u8
 
	mŒªsûiv”
;

61 
__u8
 
	mautÚeg
;

62 
__u32
 
	mmaxtxpkt
;

63 
__u32
 
	mmaxrxpkt
;

64 
__u32
 
	m»£rved
[4];

77 
	ssock‘_ty³
 {

81 
	mty³_maüo
;

86 *
	mty³_Çme
;

100 
g‘_
(

[]);

110 
g‘__by_iâame
(cÚ¡ *
iâame
, *

);

120 
g‘_mac_addr
(cÚ¡ *
iâame
, *
mac
);

130 * 
g‘_subÃt_addr
(cÚ¡ *

, cÚ¡ *
mask
);

139 
mask_to_b™s
(cÚ¡ *
mask
);

148 
g‘_iâame
(*
iâame
);

157 
g‘_ÿn_»ad_by‹s
(
fd
);

166 
make_sock‘_nÚblock
(
fd
);

175 
make_sock‘_block
(
fd
);

184 
make_li¡’_sock‘_»u£abË
(
fd
);

193 
make_sock‘_k“p_®ive
(
fd
);

202 
make_sock‘_şo£Ãxec
(
fd
);

212 
£t_sock‘_»cv_buf
(
fd
, 
buf_size
);

222 
£t_sock‘_£nd_buf
(
fd
, 
buf_size
);

231 
g‘_sock‘_»cv_buf
(
fd
);

240 
g‘_sock‘_£nd_buf
(
fd
);

251 
make_sock‘_şo£_aùiÚ
(
fd
, 
is_Ú
, 
tm_s
);

261 
make_sock‘_brßdÿ¡
(
fd
, 
Ú
);

271 
make_sock‘_muÉiÿ¡_loİ
(
fd
, 
Ú
);

281 
make_sock‘_muÉiÿ¡_‰l
(
fd
, 
‰l
);

291 
add_sock‘_to_memb”sh
(
fd
, 
_m»q
 *
mrq
);

301 
drİ_sock‘_äom_memb”sh
(
fd
, 
_m»q
 *
mrq
);

310 
g‘_sock‘_£nd_timeout
(
fd
);

319 
g‘_sock‘_»cv_timeout
(
fd
);

329 
make_sock‘_£nd_timeout
(
fd
, 
tm_ms
);

339 
make_sock‘_»cv_timeout
(
fd
, 
tm_ms
);

348 
g‘_sock‘_´ÙocŞ
(
fd
);

357 
g‘_sock‘_ty³
(
fd
);

366 * 
g‘_sock‘_ty³_¡r
(
fd
);

377 
make_sock‘_´omisc
(cÚ¡ *
iâame
, 
fd
, 
Ú
);

387 
g‘_š‹rçû_šdex
(
fd
, 
iäeq
 *
»q
);

394 
is_big_’dŸn
();

403 
m©ch_
(cÚ¡ *

);

412 
g‘_‘h_¥“d
(cÚ¡ *
iâame
);

421 
g‘_sock‘_”rÜ
(
fd
);

431 
g‘_g©eway
(*
g©eway
, *
iâame
);

444 
xioùl
(
fd
, 
»que¡
, *
¬gp
, cÚ¡ *
fmt
, ...);

454 
g‘_š‹rçû_¡©e
(
fd
, cÚ¡ *
iâame
);

464 
g‘_Ãt_mac
(*
d¡
, 
mac
[6], 
timeout
);

476 
2¬r
(cÚ¡ *

, 
¬r
[4]);

484 
¬r2
(*
_¬r
, *

);

492 
mac2¬r
(cÚ¡ *
mac
, 
mac_¬r
[6]);

500 
¬r2mac
(cÚ¡ *
mac_¬r
, 
mac
[]);

508 
´št_mac
(cÚ¡ *
mac
, cÚ¡ *
šfo
);

516 
´št_v4
(cÚ¡ *

, cÚ¡ *
šfo
);

	@socket/socket_router.h

1 #iâdeà
__SOCKET_ROUTER_H__


2 
	#__SOCKET_ROUTER_H__


	)

3 
	~<¡dio.h
>

4 
	~<¡ršg.h
>

5 
	~<uni¡d.h
>

6 
	~<sys/ty³s.h
>

7 
	~<sigÇl.h
>

8 
	~<sys/sock‘.h
>

9 
	~<¬·/š‘.h
>

10 
	~<Ãtdb.h
>

11 
	~<Ãtš‘/if_‘h”.h
>

12 
	~<uni¡d.h
>

13 
	~<Ãt/if_¬p.h
>

14 
	~<¡dlib.h
>

15 
	~"sock‘_´İ”ty.h
"

16 
	~"sock‘_h—d”.h
"

18 
rou‹
(*
d¡
);

	@thread.h

1 #iâdeà
__THREAD_H__


2 
	#__THREAD_H__


	)

3 
	~<¡dio.h
>

4 
	~<uni¡d.h
>

5 
	~<±h»ad.h
>

6 
	~<sys/£Ëù.h
>

12 * (*
	t±h»ad_ruÁše
)(*);

14 
	s±h»ad_wÜk”


16 
±h»ad_ruÁše
 
	mruÁše
;

17 *
	m¬g
;

18 } 
	t±h»ad_wÜk”_t
;

20 
	sth»ad_im¶


22 
	maùive
;

23 
	mk“p
;

24 
	mrun
;

25 
	md–‘e
;

26 
	mdÚe
;

27 
±h»ad_t
 
	mpid
;

28 
±h»ad_wÜk”_t
 
	mwÜk”
;

29 
±h»ad_wÜk”_t
 
	mÚ_ex™
;

30 
±h»ad_mu‹x_t
 
	mlock
;

31 
±h»ad_cÚd_t
 
	m»ady
;

32 } 
	tth»ad_t
;

43 
th»ad_¡¬t
(
th»ad_t
 *
im¶
, 
±h»ad_ruÁše
 
ruÁše
, *
¬g
, 
run
, 
k“p
);

52 
th»ad_exec
(
th»ad_t
 *
im¶
, 
±h»ad_ruÁše
 
ruÁše
, *
¬g
);

61 
th»ad_Úex™
(
th»ad_t
 *
im¶
, 
±h»ad_ruÁše
 
ruÁše
, *
¬g
);

68 
th»ad_run
(
th»ad_t
 *
im¶
);

77 
th»ad_lock
(
th»ad_t
 *
im¶
);

86 
th»ad_Œylock
(
th»ad_t
 *
im¶
);

95 
th»ad_uÆock
(
th»ad_t
 *
im¶
);

104 
th»ad_d–‘e
(
th»ad_t
 *
im¶
);

111 
th»ad_wa™_ov”
(
th»ad_t
 *
im¶
);

118 
th»ad_time_wa™_ov”
(
th»ad_t
 *
im¶
, 
tm_ms
);

	@timer.h

1 #iâdeà
__LIBSC_TIMER_H__


2 
	#__LIBSC_TIMER_H__


	)

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<uni¡d.h
>

8 
	~<fú.h
>

9 
	~<sys/ty³s.h
>

10 
	~<sys/¡©.h
>

11 
	~<sigÇl.h
>

12 
	~<±h»ad.h
>

13 
	~<£m­hÜe.h
>

14 
	~<¡dboŞ.h
>

15 
	~<sys/sysšfo.h
>

16 
	~<sys/”ºo.h
>

17 
	~<sys/wa™.h
>

18 
	~<sys/£Ëù.h
>

19 
	~<g‘İt.h
>

20 
	~<time.h
>

22 
	#TIMER_ACCURACY
 100

	)

32 
	stim”
 {

39 
	mi
;

40 
	mc
;

41 *
	mp
;

47 
tim”_im¶
 *
	mim¶
;

48 }
	ttim”
;

60 (*
	ttim”_cb
)(*
	t¬g
);

65 
	stim”_im¶
 {

69 
aùive
;

74 
»³©
;

79 
d–‘e
;

84 
time_r
;

89 
time_b
;

94 
tim”_cb
 
cb
;

95 *
¬g
;

100 
±h»ad_t
 
th»ad
;

101 }
	ttim”_im¶_t
;

111 
tim”
 * 
	`tim”_ü—t
(
tm_ms
, 
tim”_cb
 
cb
, *
¬g
, 
boŞ
 
»³©
);

118 
	`tim”_¡¬t
(
tim”
 *timer);

125 
	`tim”_¡İ
(
tim”
 *timer);

132 
	`tim”_de¡roy
(
tim”
 *timer);

139 
	`tim”_»£t
(
tim”
 *timer);

	@
1
.
0
15
213
cfg.h
dir.h
macro.h
print.h
proc.h
sock.h
socket/socket_app.h
socket/socket_arp.h
socket/socket_base.h
socket/socket_event.h
socket/socket_header.h
socket/socket_property.h
socket/socket_router.h
thread.h
timer.h
